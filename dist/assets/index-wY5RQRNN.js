var Cr=Object.defineProperty;var Ir=(s,e,t)=>e in s?Cr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var A=(s,e,t)=>(Ir(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function be(){}function xr(s,e){for(const t in e)s[t]=e[t];return s}function ki(s){return s()}function Wn(){return Object.create(null)}function ze(s){s.forEach(ki)}function On(s){return typeof s=="function"}function nt(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Lr(s){return Object.keys(s).length===0}function $n(s,...e){if(s==null){for(const n of e)n(void 0);return be}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Te(s){let e;return $n(s,t=>e=t)(),e}function Si(s,e,t){s.$$.on_destroy.push($n(e,t))}function Mr(s,e,t,n){if(s){const i=Ni(s,e,t,n);return s[0](i)}}function Ni(s,e,t,n){return s[1]&&n?xr(t.ctx.slice(),s[1](n(e))):t.ctx}function jr(s,e,t,n){if(s[2]&&n){const i=s[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)r[o]=e.dirty[o]|i[o];return r}return e.dirty|i}return e.dirty}function Pr(s,e,t,n,i,r){if(i){const a=Ni(e,t,n,r);s.p(a,i)}}function Br(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function y(s,e){s.appendChild(e)}function K(s,e,t){s.insertBefore(e,t||null)}function U(s){s.parentNode&&s.parentNode.removeChild(s)}function Ti(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function T(s){return document.createElement(s)}function Jn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function re(s){return document.createTextNode(s)}function x(){return re(" ")}function Oi(){return re("")}function De(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function E(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Rr(s){return Array.from(s.childNodes)}function Ue(s,e){e=""+e,s.data!==e&&(s.data=e)}function Yn(s,e){s.value=e??""}function We(s,e,t){s.classList.toggle(e,!!t)}let En;function Wt(s){En=s}const Tt=[],Gn=[];let It=[];const Qn=[],Dr=Promise.resolve();let pn=!1;function Zr(){pn||(pn=!0,Dr.then($i))}function mn(s){It.push(s)}const nn=new Set;let _t=0;function $i(){if(_t!==0)return;const s=En;do{try{for(;_t<Tt.length;){const e=Tt[_t];_t++,Wt(e),Vr(e.$$)}}catch(e){throw Tt.length=0,_t=0,e}for(Wt(null),Tt.length=0,_t=0;Gn.length;)Gn.pop()();for(let e=0;e<It.length;e+=1){const t=It[e];nn.has(t)||(nn.add(t),t())}It.length=0}while(Tt.length);for(;Qn.length;)Qn.pop()();pn=!1,nn.clear(),Wt(s)}function Vr(s){if(s.fragment!==null){s.update(),ze(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(mn)}}function Ur(s){const e=[],t=[];It.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),It=e}const ws=new Set;let at;function Ds(){at={r:0,c:[],p:at}}function Zs(){at.r||ze(at.c),at=at.p}function q(s,e){s&&s.i&&(ws.delete(s),s.i(e))}function G(s,e,t,n){if(s&&s.o){if(ws.has(s))return;ws.add(s),at.c.push(()=>{ws.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}function Ts(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ue(s){s&&s.c()}function oe(s,e,t){const{fragment:n,after_update:i}=s.$$;n&&n.m(e,t),mn(()=>{const r=s.$$.on_mount.map(ki).filter(On);s.$$.on_destroy?s.$$.on_destroy.push(...r):ze(r),s.$$.on_mount=[]}),i.forEach(mn)}function le(s,e){const t=s.$$;t.fragment!==null&&(Ur(t.after_update),ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qr(s,e){s.$$.dirty[0]===-1&&(Tt.push(s),Zr(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function gt(s,e,t,n,i,r,a=null,o=[-1]){const l=En;Wt(s);const c=s.$$={fragment:null,ctx:[],props:r,update:be,not_equal:i,bound:Wn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Wn(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let f=!1;if(c.ctx=t?t(s,e.props||{},(u,d,...h)=>{const b=h.length?h[0]:d;return c.ctx&&i(c.ctx[u],c.ctx[u]=b)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](b),f&&qr(s,u)),d}):[],c.update(),f=!0,ze(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const u=Rr(e.target);c.fragment&&c.fragment.l(u),u.forEach(U)}else c.fragment&&c.fragment.c();e.intro&&q(s.$$.fragment),oe(s,e.target,e.anchor),$i()}Wt(l)}class yt{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){le(this,1),this.$destroy=be}$on(e,t){if(!On(t))return be;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Lr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Kr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kr);var H;(function(s){s.assertEqual=i=>i;function e(i){}s.assertIs=e;function t(i){throw new Error}s.assertNever=t,s.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},s.getValidEnumValues=i=>{const r=s.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of r)a[o]=i[o];return s.objectValues(a)},s.objectValues=i=>s.objectKeys(i).map(function(r){return i[r]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},s.find=(i,r)=>{for(const a of i)if(r(a))return a},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}s.joinValues=n,s.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(H||(H={}));var gn;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(gn||(gn={}));const O=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Je=s=>{switch(typeof s){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(s)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(s)?O.array:s===null?O.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?O.promise:typeof Map<"u"&&s instanceof Map?O.map:typeof Set<"u"&&s instanceof Set?O.set:typeof Date<"u"&&s instanceof Date?O.date:O.object;default:return O.unknown}},S=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Hr=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class Le extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(r){return r.message},n={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Le.create=s=>new Le(s);const Yt=(s,e)=>{let t;switch(s.code){case S.invalid_type:s.received===O.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case S.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,H.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:t=`Unrecognized key(s) in object: ${H.joinValues(s.keys,", ")}`;break;case S.invalid_union:t="Invalid input";break;case S.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${H.joinValues(s.options)}`;break;case S.invalid_enum_value:t=`Invalid enum value. Expected ${H.joinValues(s.options)}, received '${s.received}'`;break;case S.invalid_arguments:t="Invalid function arguments";break;case S.invalid_return_type:t="Invalid function return type";break;case S.invalid_date:t="Invalid date";break;case S.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:H.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case S.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case S.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case S.custom:t="Invalid input";break;case S.invalid_intersection_types:t="Intersection results could not be merged";break;case S.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case S.not_finite:t="Number must be finite";break;default:t=e.defaultError,H.assertNever(s)}return{message:t}};let Ei=Yt;function Fr(s){Ei=s}function Os(){return Ei}const $s=s=>{const{data:e,path:t,errorMaps:n,issueData:i}=s,r=[...t,...i.path||[]],a={...i,path:r};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:r,message:i.message||o}},zr=[];function $(s,e){const t=$s({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Os(),Yt].filter(n=>!!n)});s.common.issues.push(t)}class me{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return j;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t)n.push({key:await i.key,value:await i.value});return me.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return j;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[r.value]=a.value)}return{status:e.value,value:n}}}const j=Object.freeze({status:"aborted"}),Ai=s=>({status:"dirty",value:s}),we=s=>({status:"valid",value:s}),yn=s=>s.status==="aborted",bn=s=>s.status==="dirty",Gt=s=>s.status==="valid",Es=s=>typeof Promise<"u"&&s instanceof Promise;var I;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(I||(I={}));class Ze{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xn=(s,e)=>{if(Gt(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Le(s.common.issues);return this._error=t,this._error}}};function B(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=s;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:t??o.defaultError},description:i}}class R{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Je(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new me,ctx:{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Es(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},r=this._parseSync({data:e,path:i.path,parent:i});return Xn(i,r)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},i=this._parse({data:e,path:n.path,parent:n}),r=await(Es(i)?i:Promise.resolve(i));return Xn(n,r)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const a=e(i),o=()=>r.addIssue({code:S.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new je({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ke.create(this,this._def)}nullable(){return pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Me.create(this,this._def)}promise(){return Pt.create(this,this._def)}or(e){return ts.create([this,e],this._def)}and(e){return ss.create(this,e,this._def)}transform(e){return new je({...B(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new os({...B(this._def),innerType:this,defaultValue:t,typeName:L.ZodDefault})}brand(){return new Ii({typeName:L.ZodBranded,type:this,...B(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new xs({...B(this._def),innerType:this,catchValue:t,typeName:L.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return fs.create(this,e)}readonly(){return Ms.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wr=/^c[^\s-]{8,}$/i,Jr=/^[a-z][a-z0-9]*$/,Yr=/^[0-9A-HJKMNP-TV-Z]{26}$/,Gr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qr=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rn;const ea=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ta=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,sa=s=>s.precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):s.precision===0?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function na(s,e){return!!((e==="v4"||!e)&&ea.test(s)||(e==="v6"||!e)&&ta.test(s))}class xe extends R{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){const r=this._getOrReturnCtx(e);return $(r,{code:S.invalid_type,expected:O.string,received:r.parsedType}),j}const n=new me;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:S.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:S.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?$(i,{code:S.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&$(i,{code:S.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if(r.kind==="email")Qr.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"email",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="emoji")rn||(rn=new RegExp(Xr,"u")),rn.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"emoji",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="uuid")Gr.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"uuid",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid")Wr.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid2")Jr.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid2",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="ulid")Yr.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ulid",code:S.invalid_string,message:r.message}),n.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),$(i,{validation:"url",code:S.invalid_string,message:r.message}),n.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"regex",code:S.invalid_string,message:r.message}),n.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),$(i,{code:S.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:S.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:S.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):r.kind==="datetime"?sa(r).test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:S.invalid_string,validation:"datetime",message:r.message}),n.dirty()):r.kind==="ip"?na(e.data,r.version)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ip",code:S.invalid_string,message:r.message}),n.dirty()):H.assertNever(r);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:S.invalid_string,...I.errToObj(n)})}_addCheck(e){return new xe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...I.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...I.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...I.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...I.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...I.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...I.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...I.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...I.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...I.errToObj(t)})}nonempty(e){return this.min(1,I.errToObj(e))}trim(){return new xe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xe.create=s=>{var e;return new xe({checks:[],typeName:L.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...B(s)})};function ia(s,e){const t=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,r=parseInt(s.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return r%a/Math.pow(10,i)}class Qe extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){const r=this._getOrReturnCtx(e);return $(r,{code:S.invalid_type,expected:O.number,received:r.parsedType}),j}let n;const i=new me;for(const r of this._def.checks)r.kind==="int"?H.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:S.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?ia(e.data,r.value)!==0&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:S.not_finite,message:r.message}),i.dirty()):H.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,I.toString(t))}gt(e,t){return this.setLimit("min",e,!1,I.toString(t))}lte(e,t){return this.setLimit("max",e,!0,I.toString(t))}lt(e,t){return this.setLimit("max",e,!1,I.toString(t))}setLimit(e,t,n,i){return new Qe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:I.toString(i)}]})}_addCheck(e){return new Qe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&H.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Qe.create=s=>new Qe({checks:[],typeName:L.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...B(s)});class Xe extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==O.bigint){const r=this._getOrReturnCtx(e);return $(r,{code:S.invalid_type,expected:O.bigint,received:r.parsedType}),j}let n;const i=new me;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),$(n,{code:S.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):H.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,I.toString(t))}gt(e,t){return this.setLimit("min",e,!1,I.toString(t))}lte(e,t){return this.setLimit("max",e,!0,I.toString(t))}lt(e,t){return this.setLimit("max",e,!1,I.toString(t))}setLimit(e,t,n,i){return new Xe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:I.toString(i)}]})}_addCheck(e){return new Xe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Xe.create=s=>{var e;return new Xe({checks:[],typeName:L.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...B(s)})};class Qt extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.boolean,received:n.parsedType}),j}return we(e.data)}}Qt.create=s=>new Qt({typeName:L.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...B(s)});class dt extends R{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){const r=this._getOrReturnCtx(e);return $(r,{code:S.invalid_type,expected:O.date,received:r.parsedType}),j}if(isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return $(r,{code:S.invalid_date}),j}const n=new me;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:S.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:S.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):H.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}dt.create=s=>new dt({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:L.ZodDate,...B(s)});class As extends R{_parse(e){if(this._getType(e)!==O.symbol){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.symbol,received:n.parsedType}),j}return we(e.data)}}As.create=s=>new As({typeName:L.ZodSymbol,...B(s)});class Xt extends R{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.undefined,received:n.parsedType}),j}return we(e.data)}}Xt.create=s=>new Xt({typeName:L.ZodUndefined,...B(s)});class es extends R{_parse(e){if(this._getType(e)!==O.null){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.null,received:n.parsedType}),j}return we(e.data)}}es.create=s=>new es({typeName:L.ZodNull,...B(s)});class jt extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return we(e.data)}}jt.create=s=>new jt({typeName:L.ZodAny,...B(s)});class ut extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return we(e.data)}}ut.create=s=>new ut({typeName:L.ZodUnknown,...B(s)});class He extends R{_parse(e){const t=this._getOrReturnCtx(e);return $(t,{code:S.invalid_type,expected:O.never,received:t.parsedType}),j}}He.create=s=>new He({typeName:L.ZodNever,...B(s)});class Cs extends R{_parse(e){if(this._getType(e)!==O.undefined){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.void,received:n.parsedType}),j}return we(e.data)}}Cs.create=s=>new Cs({typeName:L.ZodVoid,...B(s)});class Me extends R{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==O.array)return $(t,{code:S.invalid_type,expected:O.array,received:t.parsedType}),j;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&($(t,{code:a?S.too_big:S.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&($(t,{code:S.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&($(t,{code:S.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new Ze(t,a,t.path,o)))).then(a=>me.mergeArray(n,a));const r=[...t.data].map((a,o)=>i.type._parseSync(new Ze(t,a,t.path,o)));return me.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new Me({...this._def,minLength:{value:e,message:I.toString(t)}})}max(e,t){return new Me({...this._def,maxLength:{value:e,message:I.toString(t)}})}length(e,t){return new Me({...this._def,exactLength:{value:e,message:I.toString(t)}})}nonempty(e){return this.min(1,e)}}Me.create=(s,e)=>new Me({type:s,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...B(e)});function Ot(s){if(s instanceof ne){const e={};for(const t in s.shape){const n=s.shape[t];e[t]=Ke.create(Ot(n))}return new ne({...s._def,shape:()=>e})}else return s instanceof Me?new Me({...s._def,type:Ot(s.element)}):s instanceof Ke?Ke.create(Ot(s.unwrap())):s instanceof pt?pt.create(Ot(s.unwrap())):s instanceof Ve?Ve.create(s.items.map(e=>Ot(e))):s}class ne extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=H.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==O.object){const c=this._getOrReturnCtx(e);return $(c,{code:S.invalid_type,expected:O.object,received:c.parsedType}),j}const{status:n,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof He&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const f=r[c],u=i.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Ze(i,u,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof He){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of o)l.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")o.length>0&&($(i,{code:S.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of o){const u=i.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Ze(i,u,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const u=await f.key;c.push({key:u,value:await f.value,alwaysSet:f.alwaysSet})}return c}).then(c=>me.mergeObjectSync(n,c)):me.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new ne({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,r,a,o;const l=(a=(r=(i=this._def).errorMap)===null||r===void 0?void 0:r.call(i,t,n).message)!==null&&a!==void 0?a:n.defaultError;return t.code==="unrecognized_keys"?{message:(o=I.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ne({...this._def,unknownKeys:"strip"})}passthrough(){return new ne({...this._def,unknownKeys:"passthrough"})}extend(e){return new ne({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ne({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:L.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ne({...this._def,catchall:e})}pick(e){const t={};return H.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new ne({...this._def,shape:()=>t})}omit(e){const t={};return H.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new ne({...this._def,shape:()=>t})}deepPartial(){return Ot(this)}partial(e){const t={};return H.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new ne({...this._def,shape:()=>t})}required(e){const t={};return H.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let r=this.shape[n];for(;r instanceof Ke;)r=r._def.innerType;t[n]=r}}),new ne({...this._def,shape:()=>t})}keyof(){return Ci(H.objectKeys(this.shape))}}ne.create=(s,e)=>new ne({shape:()=>s,unknownKeys:"strip",catchall:He.create(),typeName:L.ZodObject,...B(e)});ne.strictCreate=(s,e)=>new ne({shape:()=>s,unknownKeys:"strict",catchall:He.create(),typeName:L.ZodObject,...B(e)});ne.lazycreate=(s,e)=>new ne({shape:s,unknownKeys:"strip",catchall:He.create(),typeName:L.ZodObject,...B(e)});class ts extends R{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(r){for(const o of r)if(o.result.status==="valid")return o.result;for(const o of r)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(o=>new Le(o.ctx.common.issues));return $(t,{code:S.invalid_union,unionErrors:a}),j}if(t.common.async)return Promise.all(n.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const l of n){const c={...t,common:{...t.common,issues:[]},parent:null},f=l._parseSync({data:t.data,path:t.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!r&&(r={result:f,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const o=a.map(l=>new Le(l));return $(t,{code:S.invalid_union,unionErrors:o}),j}}get options(){return this._def.options}}ts.create=(s,e)=>new ts({options:s,typeName:L.ZodUnion,...B(e)});const _s=s=>s instanceof is?_s(s.schema):s instanceof je?_s(s.innerType()):s instanceof rs?[s.value]:s instanceof et?s.options:s instanceof as?Object.keys(s.enum):s instanceof os?_s(s._def.innerType):s instanceof Xt?[void 0]:s instanceof es?[null]:null;class Vs extends R{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==O.object)return $(t,{code:S.invalid_type,expected:O.object,received:t.parsedType}),j;const n=this.discriminator,i=t.data[n],r=this.optionsMap.get(i);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):($(t,{code:S.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const r of t){const a=_s(r.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,r)}}return new Vs({typeName:L.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...B(n)})}}function wn(s,e){const t=Je(s),n=Je(e);if(s===e)return{valid:!0,data:s};if(t===O.object&&n===O.object){const i=H.objectKeys(e),r=H.objectKeys(s).filter(o=>i.indexOf(o)!==-1),a={...s,...e};for(const o of r){const l=wn(s[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===O.array&&n===O.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<s.length;r++){const a=s[r],o=e[r],l=wn(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===O.date&&n===O.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class ss extends R{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(r,a)=>{if(yn(r)||yn(a))return j;const o=wn(r.value,a.value);return o.valid?((bn(r)||bn(a))&&t.dirty(),{status:t.value,value:o.data}):($(n,{code:S.invalid_intersection_types}),j)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ss.create=(s,e,t)=>new ss({left:s,right:e,typeName:L.ZodIntersection,...B(t)});class Ve extends R{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.array)return $(n,{code:S.invalid_type,expected:O.array,received:n.parsedType}),j;if(n.data.length<this._def.items.length)return $(n,{code:S.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&n.data.length>this._def.items.length&&($(n,{code:S.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ze(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(r).then(a=>me.mergeArray(t,a)):me.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ve({...this._def,rest:e})}}Ve.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ve({items:s,typeName:L.ZodTuple,rest:null,...B(e)})};class ns extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return $(n,{code:S.invalid_type,expected:O.object,received:n.parsedType}),j;const i=[],r=this._def.keyType,a=this._def.valueType;for(const o in n.data)i.push({key:r._parse(new Ze(n,o,n.path,o)),value:a._parse(new Ze(n,n.data[o],n.path,o))});return n.common.async?me.mergeObjectAsync(t,i):me.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof R?new ns({keyType:e,valueType:t,typeName:L.ZodRecord,...B(n)}):new ns({keyType:xe.create(),valueType:e,typeName:L.ZodRecord,...B(t)})}}class Is extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.map)return $(n,{code:S.invalid_type,expected:O.map,received:n.parsedType}),j;const i=this._def.keyType,r=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new Ze(n,o,n.path,[c,"key"])),value:r._parse(new Ze(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return j;(c.status==="dirty"||f.status==="dirty")&&t.dirty(),o.set(c.value,f.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return j;(c.status==="dirty"||f.status==="dirty")&&t.dirty(),o.set(c.value,f.value)}return{status:t.value,value:o}}}}Is.create=(s,e,t)=>new Is({valueType:e,keyType:s,typeName:L.ZodMap,...B(t)});class ht extends R{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.set)return $(n,{code:S.invalid_type,expected:O.set,received:n.parsedType}),j;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&($(n,{code:S.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&($(n,{code:S.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(l){const c=new Set;for(const f of l){if(f.status==="aborted")return j;f.status==="dirty"&&t.dirty(),c.add(f.value)}return{status:t.value,value:c}}const o=[...n.data.values()].map((l,c)=>r._parse(new Ze(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new ht({...this._def,minSize:{value:e,message:I.toString(t)}})}max(e,t){return new ht({...this._def,maxSize:{value:e,message:I.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ht.create=(s,e)=>new ht({valueType:s,minSize:null,maxSize:null,typeName:L.ZodSet,...B(e)});class xt extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==O.function)return $(t,{code:S.invalid_type,expected:O.function,received:t.parsedType}),j;function n(o,l){return $s({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Os(),Yt].filter(c=>!!c),issueData:{code:S.invalid_arguments,argumentsError:l}})}function i(o,l){return $s({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Os(),Yt].filter(c=>!!c),issueData:{code:S.invalid_return_type,returnTypeError:l}})}const r={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Pt){const o=this;return we(async function(...l){const c=new Le([]),f=await o._def.args.parseAsync(l,r).catch(h=>{throw c.addIssue(n(l,h)),c}),u=await Reflect.apply(a,this,f);return await o._def.returns._def.type.parseAsync(u,r).catch(h=>{throw c.addIssue(i(u,h)),c})})}else{const o=this;return we(function(...l){const c=o._def.args.safeParse(l,r);if(!c.success)throw new Le([n(l,c.error)]);const f=Reflect.apply(a,this,c.data),u=o._def.returns.safeParse(f,r);if(!u.success)throw new Le([i(f,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xt({...this._def,args:Ve.create(e).rest(ut.create())})}returns(e){return new xt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new xt({args:e||Ve.create([]).rest(ut.create()),returns:t||ut.create(),typeName:L.ZodFunction,...B(n)})}}class is extends R{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}is.create=(s,e)=>new is({getter:s,typeName:L.ZodLazy,...B(e)});class rs extends R{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return $(t,{received:t.data,code:S.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}}rs.create=(s,e)=>new rs({value:s,typeName:L.ZodLiteral,...B(e)});function Ci(s,e){return new et({values:s,typeName:L.ZodEnum,...B(e)})}class et extends R{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return $(t,{expected:H.joinValues(n),received:t.parsedType,code:S.invalid_type}),j}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),n=this._def.values;return $(t,{received:t.data,code:S.invalid_enum_value,options:n}),j}return we(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return et.create(e)}exclude(e){return et.create(this.options.filter(t=>!e.includes(t)))}}et.create=Ci;class as extends R{_parse(e){const t=H.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==O.string&&n.parsedType!==O.number){const i=H.objectValues(t);return $(n,{expected:H.joinValues(i),received:n.parsedType,code:S.invalid_type}),j}if(t.indexOf(e.data)===-1){const i=H.objectValues(t);return $(n,{received:n.data,code:S.invalid_enum_value,options:i}),j}return we(e.data)}get enum(){return this._def.values}}as.create=(s,e)=>new as({values:s,typeName:L.ZodNativeEnum,...B(e)});class Pt extends R{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==O.promise&&t.common.async===!1)return $(t,{code:S.invalid_type,expected:O.promise,received:t.parsedType}),j;const n=t.parsedType===O.promise?t.data:Promise.resolve(t.data);return we(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Pt.create=(s,e)=>new Pt({type:s,typeName:L.ZodPromise,...B(e)});class je extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{$(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(n.data,r);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:a,path:n.path,parent:n})}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,r);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?j:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?j:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gt(a))return a;const o=i.transform(a.value,r);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Gt(a)?Promise.resolve(i.transform(a.value,r)).then(o=>({status:t.value,value:o})):a);H.assertNever(i)}}je.create=(s,e,t)=>new je({schema:s,typeName:L.ZodEffects,effect:e,...B(t)});je.createWithPreprocess=(s,e,t)=>new je({schema:e,effect:{type:"preprocess",transform:s},typeName:L.ZodEffects,...B(t)});class Ke extends R{_parse(e){return this._getType(e)===O.undefined?we(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ke.create=(s,e)=>new Ke({innerType:s,typeName:L.ZodOptional,...B(e)});class pt extends R{_parse(e){return this._getType(e)===O.null?we(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pt.create=(s,e)=>new pt({innerType:s,typeName:L.ZodNullable,...B(e)});class os extends R{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===O.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}os.create=(s,e)=>new os({innerType:s,typeName:L.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...B(e)});class xs extends R{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Es(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Le(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Le(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xs.create=(s,e)=>new xs({innerType:s,typeName:L.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...B(e)});class Ls extends R{_parse(e){if(this._getType(e)!==O.nan){const n=this._getOrReturnCtx(e);return $(n,{code:S.invalid_type,expected:O.nan,received:n.parsedType}),j}return{status:"valid",value:e.data}}}Ls.create=s=>new Ls({typeName:L.ZodNaN,...B(s)});const ra=Symbol("zod_brand");class Ii extends R{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class fs extends R{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?j:r.status==="dirty"?(t.dirty(),Ai(r.value)):this._def.out._parseAsync({data:r.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?j:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new fs({in:e,out:t,typeName:L.ZodPipeline})}}class Ms extends R{_parse(e){const t=this._def.innerType._parse(e);return Gt(t)&&(t.value=Object.freeze(t.value)),t}}Ms.create=(s,e)=>new Ms({innerType:s,typeName:L.ZodReadonly,...B(e)});const xi=(s,e={},t)=>s?jt.create().superRefine((n,i)=>{var r,a;if(!s(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(a=(r=o.fatal)!==null&&r!==void 0?r:t)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...c,fatal:l})}}):jt.create(),aa={object:ne.lazycreate};var L;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(L||(L={}));const oa=(s,e={message:`Input not instance of ${s.name}`})=>xi(t=>t instanceof s,e),Li=xe.create,Mi=Qe.create,la=Ls.create,ca=Xe.create,ji=Qt.create,ua=dt.create,fa=As.create,da=Xt.create,ha=es.create,pa=jt.create,ma=ut.create,ga=He.create,ya=Cs.create,ba=Me.create,wa=ne.create,_a=ne.strictCreate,va=ts.create,ka=Vs.create,Sa=ss.create,Na=Ve.create,Ta=ns.create,Oa=Is.create,$a=ht.create,Ea=xt.create,Aa=is.create,Ca=rs.create,Ia=et.create,xa=as.create,La=Pt.create,ei=je.create,Ma=Ke.create,ja=pt.create,Pa=je.createWithPreprocess,Ba=fs.create,Ra=()=>Li().optional(),Da=()=>Mi().optional(),Za=()=>ji().optional(),Va={string:s=>xe.create({...s,coerce:!0}),number:s=>Qe.create({...s,coerce:!0}),boolean:s=>Qt.create({...s,coerce:!0}),bigint:s=>Xe.create({...s,coerce:!0}),date:s=>dt.create({...s,coerce:!0})},Ua=j;var te=Object.freeze({__proto__:null,defaultErrorMap:Yt,setErrorMap:Fr,getErrorMap:Os,makeIssue:$s,EMPTY_PATH:zr,addIssueToContext:$,ParseStatus:me,INVALID:j,DIRTY:Ai,OK:we,isAborted:yn,isDirty:bn,isValid:Gt,isAsync:Es,get util(){return H},get objectUtil(){return gn},ZodParsedType:O,getParsedType:Je,ZodType:R,ZodString:xe,ZodNumber:Qe,ZodBigInt:Xe,ZodBoolean:Qt,ZodDate:dt,ZodSymbol:As,ZodUndefined:Xt,ZodNull:es,ZodAny:jt,ZodUnknown:ut,ZodNever:He,ZodVoid:Cs,ZodArray:Me,ZodObject:ne,ZodUnion:ts,ZodDiscriminatedUnion:Vs,ZodIntersection:ss,ZodTuple:Ve,ZodRecord:ns,ZodMap:Is,ZodSet:ht,ZodFunction:xt,ZodLazy:is,ZodLiteral:rs,ZodEnum:et,ZodNativeEnum:as,ZodPromise:Pt,ZodEffects:je,ZodTransformer:je,ZodOptional:Ke,ZodNullable:pt,ZodDefault:os,ZodCatch:xs,ZodNaN:Ls,BRAND:ra,ZodBranded:Ii,ZodPipeline:fs,ZodReadonly:Ms,custom:xi,Schema:R,ZodSchema:R,late:aa,get ZodFirstPartyTypeKind(){return L},coerce:Va,any:pa,array:ba,bigint:ca,boolean:ji,date:ua,discriminatedUnion:ka,effect:ei,enum:Ia,function:Ea,instanceof:oa,intersection:Sa,lazy:Aa,literal:Ca,map:Oa,nan:la,nativeEnum:xa,never:ga,null:ha,nullable:ja,number:Mi,object:wa,oboolean:Za,onumber:Da,optional:Ma,ostring:Ra,pipeline:Ba,preprocess:Pa,promise:La,record:Ta,set:$a,strictObject:_a,string:Li,symbol:fa,transformer:ei,tuple:Na,undefined:da,union:va,unknown:ma,void:ya,NEVER:Ua,ZodIssueCode:S,quotelessJson:Hr,ZodError:Le});const ti=/^([0-9a-f]{2}:)+([0-9a-f]{2})$/,qa=te.object({network_info:te.object({extended_pan_id:te.string().regex(ti),pan_id:te.string(),channel:te.number(),network_key:te.object({key:te.string().regex(ti)})})}),An=Symbol.for("yaml.alias"),_n=Symbol.for("yaml.document"),Ge=Symbol.for("yaml.map"),Pi=Symbol.for("yaml.pair"),Fe=Symbol.for("yaml.scalar"),Dt=Symbol.for("yaml.seq"),$e=Symbol.for("yaml.node.type"),bt=s=>!!s&&typeof s=="object"&&s[$e]===An,Zt=s=>!!s&&typeof s=="object"&&s[$e]===_n,Vt=s=>!!s&&typeof s=="object"&&s[$e]===Ge,se=s=>!!s&&typeof s=="object"&&s[$e]===Pi,Q=s=>!!s&&typeof s=="object"&&s[$e]===Fe,Ut=s=>!!s&&typeof s=="object"&&s[$e]===Dt;function ie(s){if(s&&typeof s=="object")switch(s[$e]){case Ge:case Dt:return!0}return!1}function ae(s){if(s&&typeof s=="object")switch(s[$e]){case An:case Ge:case Fe:case Dt:return!0}return!1}const Ka=s=>(Q(s)||ie(s))&&!!s.anchor,_e=Symbol("break visit"),Bi=Symbol("skip children"),Re=Symbol("remove node");function tt(s,e){const t=Ri(e);Zt(s)?$t(null,s.contents,t,Object.freeze([s]))===Re&&(s.contents=null):$t(null,s,t,Object.freeze([]))}tt.BREAK=_e;tt.SKIP=Bi;tt.REMOVE=Re;function $t(s,e,t,n){const i=Di(s,e,t,n);if(ae(i)||se(i))return Zi(s,n,i),$t(s,i,t,n);if(typeof i!="symbol"){if(ie(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const a=$t(r,e.items[r],t,n);if(typeof a=="number")r=a-1;else{if(a===_e)return _e;a===Re&&(e.items.splice(r,1),r-=1)}}}else if(se(e)){n=Object.freeze(n.concat(e));const r=$t("key",e.key,t,n);if(r===_e)return _e;r===Re&&(e.key=null);const a=$t("value",e.value,t,n);if(a===_e)return _e;a===Re&&(e.value=null)}}return i}async function Us(s,e){const t=Ri(e);Zt(s)?await Et(null,s.contents,t,Object.freeze([s]))===Re&&(s.contents=null):await Et(null,s,t,Object.freeze([]))}Us.BREAK=_e;Us.SKIP=Bi;Us.REMOVE=Re;async function Et(s,e,t,n){const i=await Di(s,e,t,n);if(ae(i)||se(i))return Zi(s,n,i),Et(s,i,t,n);if(typeof i!="symbol"){if(ie(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const a=await Et(r,e.items[r],t,n);if(typeof a=="number")r=a-1;else{if(a===_e)return _e;a===Re&&(e.items.splice(r,1),r-=1)}}}else if(se(e)){n=Object.freeze(n.concat(e));const r=await Et("key",e.key,t,n);if(r===_e)return _e;r===Re&&(e.key=null);const a=await Et("value",e.value,t,n);if(a===_e)return _e;a===Re&&(e.value=null)}}return i}function Ri(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function Di(s,e,t,n){var i,r,a,o,l;if(typeof t=="function")return t(s,e,n);if(Vt(e))return(i=t.Map)==null?void 0:i.call(t,s,e,n);if(Ut(e))return(r=t.Seq)==null?void 0:r.call(t,s,e,n);if(se(e))return(a=t.Pair)==null?void 0:a.call(t,s,e,n);if(Q(e))return(o=t.Scalar)==null?void 0:o.call(t,s,e,n);if(bt(e))return(l=t.Alias)==null?void 0:l.call(t,s,e,n)}function Zi(s,e,t){const n=e[e.length-1];if(ie(n))n.items[s]=t;else if(se(n))s==="key"?n.key=t:n.value=t;else if(Zt(n))n.contents=t;else{const i=bt(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Ha={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Fa=s=>s.replace(/[!,[\]{}]/g,e=>Ha[e]);class ye{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ye.defaultYaml,e),this.tags=Object.assign({},ye.defaultTags,t)}clone(){const e=new ye(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new ye(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ye.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ye.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:ye.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ye.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,a]=n;return this.tags[r]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const a=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,a),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),a)}const[,n,i]=e.match(/^(.*!)([^!]*)$/s);i||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(i)}catch(a){return t(String(a)),null}return n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+Fa(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(e&&n.length>0&&ae(e.contents)){const r={};tt(e.contents,(a,o)=>{ae(o)&&o.tag&&(r[o.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,a]of n)r==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(o=>o.startsWith(a)))&&t.push(`%TAG ${r} ${a}`);return t.join(`
`)}}ye.defaultYaml={explicit:!1,version:"1.2"};ye.defaultTags={"!!":"tag:yaml.org,2002:"};function Vi(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(t)}return!0}function Ui(s){const e=new Set;return tt(s,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function qi(s,e){for(let t=1;;++t){const n=`${s}${t}`;if(!e.has(n))return n}}function za(s,e){const t=[],n=new Map;let i=null;return{onAnchor:r=>{t.push(r),i||(i=Ui(s));const a=qi(e,i);return i.add(a),a},setAnchors:()=>{for(const r of t){const a=n.get(r);if(typeof a=="object"&&a.anchor&&(Q(a.node)||ie(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=r,o}}},sourceObjects:n}}function At(s,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,r=n.length;i<r;++i){const a=n[i],o=At(s,n,String(i),a);o===void 0?delete n[i]:o!==a&&(n[i]=o)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const r=n.get(i),a=At(s,n,i,r);a===void 0?n.delete(i):a!==r&&n.set(i,a)}else if(n instanceof Set)for(const i of Array.from(n)){const r=At(s,n,i,i);r===void 0?n.delete(i):r!==i&&(n.delete(i),n.add(r))}else for(const[i,r]of Object.entries(n)){const a=At(s,n,i,r);a===void 0?delete n[i]:a!==r&&(n[i]=a)}return s.call(e,t,n)}function Oe(s,e,t){if(Array.isArray(s))return s.map((n,i)=>Oe(n,String(i),t));if(s&&typeof s.toJSON=="function"){if(!t||!Ka(s))return s.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(s,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const i=s.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof s=="bigint"&&!(t!=null&&t.keep)?Number(s):s}class Cn{constructor(e){Object.defineProperty(this,$e,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:i,reviver:r}={}){if(!Zt(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},o=Oe(this,"",a);if(typeof i=="function")for(const{count:l,res:c}of a.anchors.values())i(c,l);return typeof r=="function"?At(r,{"":o},"",o):o}}class qs extends Cn{constructor(e){super(An),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return tt(e,{Node:(n,i)=>{if(i===this)return tt.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:r}=t,a=this.resolve(i);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let o=n.get(a);if(o||(Oe(a,null,t),o=n.get(a)),!o||o.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=vs(i,a,n)),o.count*o.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(e,t,n){const i=`*${this.source}`;if(e){if(Vi(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function vs(s,e,t){if(bt(e)){const n=e.resolve(s),i=t&&n&&t.get(n);return i?i.count*i.aliasCount:0}else if(ie(e)){let n=0;for(const i of e.items){const r=vs(s,i,t);r>n&&(n=r)}return n}else if(se(e)){const n=vs(s,e.key,t),i=vs(s,e.value,t);return Math.max(n,i)}return 1}const Ki=s=>!s||typeof s!="function"&&typeof s!="object";class P extends Cn{constructor(e){super(Fe),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:Oe(this.value,e,t)}toString(){return String(this.value)}}P.BLOCK_FOLDED="BLOCK_FOLDED";P.BLOCK_LITERAL="BLOCK_LITERAL";P.PLAIN="PLAIN";P.QUOTE_DOUBLE="QUOTE_DOUBLE";P.QUOTE_SINGLE="QUOTE_SINGLE";const Wa="tag:yaml.org,2002:";function Ja(s,e,t){if(e){const n=t.filter(r=>r.tag===e),i=n.find(r=>!r.format)??n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(n=>{var i;return((i=n.identify)==null?void 0:i.call(n,s))&&!n.format})}function ls(s,e,t){var u,d,h;if(Zt(s)&&(s=s.contents),ae(s))return s;if(se(s)){const b=(d=(u=t.schema[Ge]).createNode)==null?void 0:d.call(u,t.schema,null,t);return b.items.push(s),b}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt<"u"&&s instanceof BigInt)&&(s=s.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:r,schema:a,sourceObjects:o}=t;let l;if(n&&s&&typeof s=="object"){if(l=o.get(s),l)return l.anchor||(l.anchor=i(s)),new qs(l.anchor);l={anchor:null,node:null},o.set(s,l)}e!=null&&e.startsWith("!!")&&(e=Wa+e.slice(2));let c=Ja(s,e,a.tags);if(!c){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){const b=new P(s);return l&&(l.node=b),b}c=s instanceof Map?a[Ge]:Symbol.iterator in Object(s)?a[Dt]:a[Ge]}r&&(r(c),delete t.onTagObj);const f=c!=null&&c.createNode?c.createNode(t.schema,s,t):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(t.schema,s,t):new P(s);return e?f.tag=e:c.default||(f.tag=c.tag),l&&(l.node=f),f}function js(s,e,t){let n=t;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const a=[];a[r]=n,n=a}else n=new Map([[r,n]])}return ls(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}const zt=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done;class Ks extends Cn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>ae(n)||se(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(zt(e))this.add(t);else{const[n,...i]=e,r=this.get(n,!0);if(ie(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(n,js(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const i=this.get(t,!0);if(ie(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...i]=e,r=this.get(n,!0);return i.length===0?!t&&Q(r)?r.value:r:ie(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!se(t))return!1;const n=t.value;return n==null||e&&Q(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const i=this.get(t,!0);return ie(i)?i.hasIn(n):!1}setIn(e,t){const[n,...i]=e;if(i.length===0)this.set(n,t);else{const r=this.get(n,!0);if(ie(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(n,js(this.schema,i,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}Ks.maxFlowStringSingleLineLength=60;const Ya=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function qe(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}const Ye=(s,e,t)=>s.endsWith(`
`)?qe(t,e):t.includes(`
`)?`
`+qe(t,e):(s.endsWith(" ")?"":" ")+t,Hi="flow",vn="block",ks="quoted";function Hs(s,e,t="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:r=20,onFold:a,onOverflow:o}={}){if(!i||i<0)return s;const l=Math.max(1+r,1+i-e.length);if(s.length<=l)return s;const c=[],f={};let u=i-e.length;typeof n=="number"&&(n>i-Math.max(2,r)?c.push(0):u=i-n);let d,h,b=!1,p=-1,m=-1,_=-1;t===vn&&(p=si(s,p),p!==-1&&(u=p+l));for(let v;v=s[p+=1];){if(t===ks&&v==="\\"){switch(m=p,s[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}_=p}if(v===`
`)t===vn&&(p=si(s,p)),u=p+l,d=void 0;else{if(v===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const k=s[p+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(d=p)}if(p>=u)if(d)c.push(d),u=d+l,d=void 0;else if(t===ks){for(;h===" "||h==="	";)h=v,v=s[p+=1],b=!0;const k=p>_+1?p-2:m-1;if(f[k])return s;c.push(k),f[k]=!0,u=k+l,d=void 0}else b=!0}h=v}if(b&&o&&o(),c.length===0)return s;a&&a();let w=s.slice(0,c[0]);for(let v=0;v<c.length;++v){const k=c[v],N=c[v+1]||s.length;k===0?w=`
${e}${s.slice(0,N)}`:(t===ks&&f[k]&&(w+=`${s[k]}\\`),w+=`
${e}${s.slice(k+1,N)}`)}return w}function si(s,e){let t=s[e+1];for(;t===" "||t==="	";){do t=s[e+=1];while(t&&t!==`
`);t=s[e+1]}return e}const Fs=(s,e)=>({indentAtStart:e?s.indent.length:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),zs=s=>/^(%|---|\.\.\.)/m.test(s);function Ga(s,e,t){if(!e||e<0)return!1;const n=e-t,i=s.length;if(i<=n)return!1;for(let r=0,a=0;r<i;++r)if(s[r]===`
`){if(r-a>n)return!0;if(a=r+1,i-a<=n)return!1}return!0}function Jt(s,e){const t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(zs(s)?"  ":"");let a="",o=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(a+=t.slice(o,l)+"\\ ",l+=1,o=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{a+=t.slice(o,l);const f=t.substr(l+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=t.substr(l,6)}l+=5,o=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<i)l+=1;else{for(a+=t.slice(o,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)a+=`
`,l+=2;a+=r,t[l+2]===" "&&(a+="\\"),l+=1,o=l+1}break;default:l+=1}return a=o?a+t.slice(o):t,n?a:Hs(a,r,ks,Fs(e,!1))}function kn(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return Jt(s,e);const t=e.indent||(zs(s)?"  ":""),n="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Hs(n,t,Hi,Fs(e,!1))}function Ct(s,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=Jt;else{const i=s.includes('"'),r=s.includes("'");i&&!r?n=kn:r&&!i?n=Jt:n=t?kn:Jt}return n(s,e)}let Sn;try{Sn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Sn=/\n+(?!\n|$)/g}function Ss({comment:s,type:e,value:t},n,i,r){const{blockQuote:a,commentString:o,lineWidth:l}=n.options;if(!a||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return Ct(t,n);const c=n.indent||(n.forceBlockIndent||zs(t)?"  ":""),f=a==="literal"?!0:a==="folded"||e===P.BLOCK_FOLDED?!1:e===P.BLOCK_LITERAL?!0:!Ga(t,l,c.length);if(!t)return f?`|
`:`>
`;let u,d;for(d=t.length;d>0;--d){const g=t[d-1];if(g!==`
`&&g!=="	"&&g!==" ")break}let h=t.substring(d);const b=h.indexOf(`
`);b===-1?u="-":t===h||b!==h.length-1?(u="+",r&&r()):u="",h&&(t=t.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(Sn,`$&${c}`));let p=!1,m,_=-1;for(m=0;m<t.length;++m){const g=t[m];if(g===" ")p=!0;else if(g===`
`)_=m;else break}let w=t.substring(0,_<m?_+1:m);w&&(t=t.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let k=(f?"|":">")+(p?c?"2":"1":"")+u;if(s&&(k+=" "+o(s.replace(/ ?[\r\n]+/g," ")),i&&i()),f)return t=t.replace(/\n+/g,`$&${c}`),`${k}
${c}${w}${t}${h}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const N=Hs(`${w}${t}${h}`,c,vn,Fs(n,!0));return`${k}
${c}${N}`}function Qa(s,e,t,n){const{type:i,value:r}=s,{actualString:a,implicitKey:o,indent:l,indentStep:c,inFlow:f}=e;if(o&&r.includes(`
`)||f&&/[[\]{},]/.test(r))return Ct(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return o||f||!r.includes(`
`)?Ct(r,e):Ss(s,e,t,n);if(!o&&!f&&i!==P.PLAIN&&r.includes(`
`))return Ss(s,e,t,n);if(zs(r)){if(l==="")return e.forceBlockIndent=!0,Ss(s,e,t,n);if(o&&l===c)return Ct(r,e)}const u=r.replace(/\n+/g,`$&
${l}`);if(a){const d=p=>{var m;return p.default&&p.tag!=="tag:yaml.org,2002:str"&&((m=p.test)==null?void 0:m.test(u))},{compat:h,tags:b}=e.doc.schema;if(b.some(d)||h!=null&&h.some(d))return Ct(r,e)}return o?u:Hs(u,l,Hi,Fs(e,!1))}function ds(s,e,t,n){const{implicitKey:i,inFlow:r}=e,a=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)});let{type:o}=s;o!==P.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=P.QUOTE_DOUBLE);const l=f=>{switch(f){case P.BLOCK_FOLDED:case P.BLOCK_LITERAL:return i||r?Ct(a.value,e):Ss(a,e,t,n);case P.QUOTE_DOUBLE:return Jt(a.value,e);case P.QUOTE_SINGLE:return kn(a.value,e);case P.PLAIN:return Qa(a,e,t,n);default:return null}};let c=l(o);if(c===null){const{defaultKeyType:f,defaultStringType:u}=e.options,d=i&&f||u;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function Fi(s,e){const t=Object.assign({blockQuote:!0,commentString:Ya,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Xa(s,e){var i;if(e.tag){const r=s.filter(a=>a.tag===e.tag);if(r.length>0)return r.find(a=>a.format===e.format)??r[0]}let t,n;if(Q(e)){n=e.value;const r=s.filter(a=>{var o;return(o=a.identify)==null?void 0:o.call(a,n)});t=r.find(a=>a.format===e.format)??r.find(a=>!a.format)}else n=e,t=s.find(r=>r.nodeClass&&n instanceof r.nodeClass);if(!t){const r=((i=n==null?void 0:n.constructor)==null?void 0:i.name)??typeof n;throw new Error(`Tag not resolved for ${r} value`)}return t}function eo(s,e,{anchors:t,doc:n}){if(!n.directives)return"";const i=[],r=(Q(s)||ie(s))&&s.anchor;r&&Vi(r)&&(t.add(r),i.push(`&${r}`));const a=s.tag?s.tag:e.default?null:e.tag;return a&&i.push(n.directives.tagString(a)),i.join(" ")}function Bt(s,e,t,n){var l;if(se(s))return s.toString(e,t,n);if(bt(s)){if(e.doc.directives)return s.toString(e);if((l=e.resolvedAliases)!=null&&l.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let i;const r=ae(s)?s:e.doc.createNode(s,{onTagObj:c=>i=c});i||(i=Xa(e.doc.schema.tags,r));const a=eo(r,i,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const o=typeof i.stringify=="function"?i.stringify(r,e,t,n):Q(r)?ds(r,e,t,n):r.toString(e,t,n);return a?Q(r)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${e.indent}${o}`:o}function to({key:s,value:e},t,n,i){const{allNullValues:r,doc:a,indent:o,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:u}}=t;let d=ae(s)&&s.comment||null;if(u){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(ie(s)){const M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let h=!u&&(!s||d&&e==null&&!t.inFlow||ie(s)||(Q(s)?s.type===P.BLOCK_FOLDED||s.type===P.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!h&&(u||!r),indent:o+l});let b=!1,p=!1,m=Bt(s,t,()=>b=!0,()=>p=!0);if(!h&&!t.inFlow&&m.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(t.inFlow){if(r||e==null)return b&&n&&n(),m===""?"?":h?`? ${m}`:m}else if(r&&!u||e==null&&h)return m=`? ${m}`,d&&!b?m+=Ye(m,t.indent,c(d)):p&&i&&i(),m;b&&(d=null),h?(d&&(m+=Ye(m,t.indent,c(d))),m=`? ${m}
${o}:`):(m=`${m}:`,d&&(m+=Ye(m,t.indent,c(d))));let _,w,v;ae(e)?(_=!!e.spaceBefore,w=e.commentBefore,v=e.comment):(_=!1,w=null,v=null,e&&typeof e=="object"&&(e=a.createNode(e))),t.implicitKey=!1,!h&&!d&&Q(e)&&(t.indentAtStart=m.length+1),p=!1,!f&&l.length>=2&&!t.inFlow&&!h&&Ut(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let k=!1;const N=Bt(e,t,()=>k=!0,()=>p=!0);let g=" ";if(d||_||w){if(g=_?`
`:"",w){const M=c(w);g+=`
${qe(M,t.indent)}`}N===""&&!t.inFlow?g===`
`&&(g=`

`):g+=`
${t.indent}`}else if(!h&&ie(e)){const M=N[0],V=N.indexOf(`
`),Y=V!==-1,X=t.inFlow??e.flow??e.items.length===0;if(Y||!X){let fe=!1;if(Y&&(M==="&"||M==="!")){let Z=N.indexOf(" ");M==="&"&&Z!==-1&&Z<V&&N[Z+1]==="!"&&(Z=N.indexOf(" ",Z+1)),(Z===-1||V<Z)&&(fe=!0)}fe||(g=`
${t.indent}`)}}else(N===""||N[0]===`
`)&&(g="");return m+=g+N,t.inFlow?k&&n&&n():v&&!k?m+=Ye(m,t.indent,c(v)):p&&i&&i(),m}function zi(s,e){(s==="debug"||s==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const ni="<<";function Wi(s,e,{key:t,value:n}){if(s!=null&&s.doc.schema.merge&&so(t))if(n=bt(n)?n.resolve(s.doc):n,Ut(n))for(const i of n.items)an(s,e,i);else if(Array.isArray(n))for(const i of n)an(s,e,i);else an(s,e,n);else{const i=Oe(t,"",s);if(e instanceof Map)e.set(i,Oe(n,i,s));else if(e instanceof Set)e.add(i);else{const r=no(t,i,s),a=Oe(n,r,s);r in e?Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[r]=a}}return e}const so=s=>s===ni||Q(s)&&s.value===ni&&(!s.type||s.type===P.PLAIN);function an(s,e,t){const n=s&&bt(t)?t.resolve(s.doc):t;if(!Vt(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,s,Map);for(const[r,a]of i)e instanceof Map?e.has(r)||e.set(r,a):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function no(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(ae(s)&&(t!=null&&t.doc)){const n=Fi(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=s.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),zi(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}function In(s,e,t){const n=ls(s,void 0,t),i=ls(e,void 0,t);return new pe(n,i)}class pe{constructor(e,t=null){Object.defineProperty(this,$e,{value:Pi}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return ae(t)&&(t=t.clone(e)),ae(n)&&(n=n.clone(e)),new pe(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Wi(t,n,this)}toString(e,t,n){return e!=null&&e.doc?to(this,e,t,n):JSON.stringify(this)}}function Ji(s,e,t){return(e.inFlow??s.flow?ro:io)(s,e,t)}function io({comment:s,items:e},t,{blockItemPrefix:n,flowChars:i,itemIndent:r,onChompKeep:a,onComment:o}){const{indent:l,options:{commentString:c}}=t,f=Object.assign({},t,{indent:r,type:null});let u=!1;const d=[];for(let b=0;b<e.length;++b){const p=e[b];let m=null;if(ae(p))!u&&p.spaceBefore&&d.push(""),Ps(t,d,p.commentBefore,u),p.comment&&(m=p.comment);else if(se(p)){const w=ae(p.key)?p.key:null;w&&(!u&&w.spaceBefore&&d.push(""),Ps(t,d,w.commentBefore,u))}u=!1;let _=Bt(p,f,()=>m=null,()=>u=!0);m&&(_+=Ye(_,r,c(m))),u&&m&&(u=!1),d.push(n+_)}let h;if(d.length===0)h=i.start+i.end;else{h=d[0];for(let b=1;b<d.length;++b){const p=d[b];h+=p?`
${l}${p}`:`
`}}return s?(h+=`
`+qe(c(s),l),o&&o()):u&&a&&a(),h}function ro({comment:s,items:e},t,{flowChars:n,itemIndent:i,onComment:r}){const{indent:a,indentStep:o,flowCollectionPadding:l,options:{commentString:c}}=t;i+=o;const f=Object.assign({},t,{indent:i,inFlow:!0,type:null});let u=!1,d=0;const h=[];for(let _=0;_<e.length;++_){const w=e[_];let v=null;if(ae(w))w.spaceBefore&&h.push(""),Ps(t,h,w.commentBefore,!1),w.comment&&(v=w.comment);else if(se(w)){const N=ae(w.key)?w.key:null;N&&(N.spaceBefore&&h.push(""),Ps(t,h,N.commentBefore,!1),N.comment&&(u=!0));const g=ae(w.value)?w.value:null;g?(g.comment&&(v=g.comment),g.commentBefore&&(u=!0)):w.value==null&&(N!=null&&N.comment)&&(v=N.comment)}v&&(u=!0);let k=Bt(w,f,()=>v=null);_<e.length-1&&(k+=","),v&&(k+=Ye(k,i,c(v))),!u&&(h.length>d||k.includes(`
`))&&(u=!0),h.push(k),d=h.length}let b;const{start:p,end:m}=n;if(h.length===0)b=p+m;else if(u||(u=h.reduce((w,v)=>w+v.length+2,2)>Ks.maxFlowStringSingleLineLength),u){b=p;for(const _ of h)b+=_?`
${o}${a}${_}`:`
`;b+=`
${a}${m}`}else b=`${p}${l}${h.join(" ")}${l}${m}`;return s&&(b+=Ye(b,a,c(s)),r&&r()),b}function Ps({indent:s,options:{commentString:e}},t,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const r=qe(e(n),s);t.push(r.trimStart())}}function ot(s,e){const t=Q(e)?e.value:e;for(const n of s)if(se(n)&&(n.key===e||n.key===t||Q(n.key)&&n.key.value===t))return n}class ve extends Ks{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ge,e),this.items=[]}static from(e,t,n){const{keepUndefined:i,replacer:r}=n,a=new this(e),o=(l,c)=>{if(typeof r=="function")c=r.call(t,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||i)&&a.items.push(In(l,c,n))};if(t instanceof Map)for(const[l,c]of t)o(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))o(l,t[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,t){var a;let n;se(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new pe(e,e==null?void 0:e.value):n=new pe(e.key,e.value);const i=ot(this.items,n.key),r=(a=this.schema)==null?void 0:a.sortMapEntries;if(i){if(!t)throw new Error(`Key ${n.key} already set`);Q(i.value)&&Ki(n.value)?i.value.value=n.value:i.value=n.value}else if(r){const o=this.items.findIndex(l=>r(n,l)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(e){const t=ot(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const n=ot(this.items,e),i=n==null?void 0:n.value;return(!t&&Q(i)?i.value:i)??void 0}has(e){return!!ot(this.items,e)}set(e,t){this.add(new pe(e,t),!0)}toJSON(e,t,n){const i=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(i);for(const r of this.items)Wi(t,i,r);return i}toString(e,t,n){if(!e)return JSON.stringify(this);for(const i of this.items)if(!se(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ji(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const qt={collection:"map",default:!0,nodeClass:ve,tag:"tag:yaml.org,2002:map",resolve(s,e){return Vt(s)||e("Expected a mapping for this tag"),s},createNode:(s,e,t)=>ve.from(s,e,t)};class st extends Ks{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Dt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=gs(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=gs(e);if(typeof n!="number")return;const i=this.items[n];return!t&&Q(i)?i.value:i}has(e){const t=gs(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=gs(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[n];Q(i)&&Ki(t)?i.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let i=0;for(const r of this.items)n.push(Oe(r,String(i++),t));return n}toString(e,t,n){return e?Ji(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:i}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let a=0;for(let o of t){if(typeof i=="function"){const l=t instanceof Set?o:String(a++);o=i.call(t,l,o)}r.items.push(ls(o,void 0,n))}}return r}}function gs(s){let e=Q(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Kt={collection:"seq",default:!0,nodeClass:st,tag:"tag:yaml.org,2002:seq",resolve(s,e){return Ut(s)||e("Expected a sequence for this tag"),s},createNode:(s,e,t)=>st.from(s,e,t)},Ws={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,n){return e=Object.assign({actualString:!0},e),ds(s,e,t,n)}},Js={identify:s=>s==null,createNode:()=>new P(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new P(null),stringify:({source:s},e)=>typeof s=="string"&&Js.test.test(s)?s:e.options.nullStr},xn={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new P(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&xn.test.test(s)){const n=s[0]==="t"||s[0]==="T";if(e===n)return s}return e?t.options.trueStr:t.options.falseStr}};function Pe({format:s,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(n);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let a=r.indexOf(".");a<0&&(a=r.length,r+=".");let o=e-(r.length-a-1);for(;o-- >0;)r+="0"}return r}const Yi={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pe},Gi={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():Pe(s)}},Qi={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){const e=new P(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:Pe},Ys=s=>typeof s=="bigint"||Number.isInteger(s),Ln=(s,e,t,{intAsBigInt:n})=>n?BigInt(s):parseInt(s.substring(e),t);function Xi(s,e,t){const{value:n}=s;return Ys(n)&&n>=0?t+n.toString(e):Pe(s)}const er={identify:s=>Ys(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>Ln(s,2,8,t),stringify:s=>Xi(s,8,"0o")},tr={identify:Ys,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>Ln(s,0,10,t),stringify:Pe},sr={identify:s=>Ys(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>Ln(s,2,16,t),stringify:s=>Xi(s,16,"0x")},ao=[qt,Kt,Ws,Js,xn,er,tr,sr,Yi,Gi,Qi];function ii(s){return typeof s=="bigint"||Number.isInteger(s)}const ys=({value:s})=>JSON.stringify(s),oo=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:ys},{identify:s=>s==null,createNode:()=>new P(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ys},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:s=>s==="true",stringify:ys},{identify:ii,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>ii(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:ys}],lo={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},co=[qt,Kt].concat(oo,lo),Mn={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof Buffer=="function")return Buffer.from(s,"base64");if(typeof atob=="function"){const t=atob(s.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},n,i,r){const a=t;let o;if(typeof Buffer=="function")o=a instanceof Buffer?a.toString("base64"):Buffer.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=P.BLOCK_LITERAL),e!==P.QUOTE_DOUBLE){const l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(o.length/l),f=new Array(c);for(let u=0,d=0;u<c;++u,d+=l)f[u]=o.substr(d,l);o=f.join(e===P.BLOCK_LITERAL?`
`:" ")}return ds({comment:s,type:e,value:o},n,i,r)}};function nr(s,e){if(Ut(s))for(let t=0;t<s.items.length;++t){let n=s.items[t];if(!se(n)){if(Vt(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");const i=n.items[0]||new pe(new P(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){const r=i.value??i.key;r.comment=r.comment?`${n.comment}
${r.comment}`:n.comment}n=i}s.items[t]=se(n)?n:new pe(n)}}else e("Expected a sequence for this tag");return s}function ir(s,e,t){const{replacer:n}=t,i=new st(s);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof n=="function"&&(a=n.call(e,String(r++),a));let o,l;if(Array.isArray(a))if(a.length===2)o=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const c=Object.keys(a);if(c.length===1)o=c[0],l=a[o];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else o=a;i.items.push(In(o,l,t))}return i}const jn={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:nr,createNode:ir};class Lt extends st{constructor(){super(),this.add=ve.prototype.add.bind(this),this.delete=ve.prototype.delete.bind(this),this.get=ve.prototype.get.bind(this),this.has=ve.prototype.has.bind(this),this.set=ve.prototype.set.bind(this),this.tag=Lt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const i of this.items){let r,a;if(se(i)?(r=Oe(i.key,"",t),a=Oe(i.value,r,t)):r=Oe(i,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,a)}return n}static from(e,t,n){const i=ir(e,t,n),r=new this;return r.items=i.items,r}}Lt.tag="tag:yaml.org,2002:omap";const Pn={collection:"seq",identify:s=>s instanceof Map,nodeClass:Lt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){const t=nr(s,e),n=[];for(const{key:i}of t.items)Q(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Lt,t)},createNode:(s,e,t)=>Lt.from(s,e,t)};function rr({value:s,source:e},t){return e&&(s?ar:or).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}const ar={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new P(!0),stringify:rr},or={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new P(!1),stringify:rr},uo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pe},fo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():Pe(s)}},ho={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){const e=new P(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){const n=s.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:Pe},hs=s=>typeof s=="bigint"||Number.isInteger(s);function Gs(s,e,t,{intAsBigInt:n}){const i=s[0];if((i==="-"||i==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),n){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}const a=BigInt(s);return i==="-"?BigInt(-1)*a:a}const r=parseInt(s,t);return i==="-"?-1*r:r}function Bn(s,e,t){const{value:n}=s;if(hs(n)){const i=n.toString(e);return n<0?"-"+t+i.substr(1):t+i}return Pe(s)}const po={identify:hs,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>Gs(s,2,2,t),stringify:s=>Bn(s,2,"0b")},mo={identify:hs,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>Gs(s,1,8,t),stringify:s=>Bn(s,8,"0")},go={identify:hs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>Gs(s,0,10,t),stringify:Pe},yo={identify:hs,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>Gs(s,2,16,t),stringify:s=>Bn(s,16,"0x")};class Mt extends ve{constructor(e){super(e),this.tag=Mt.tag}add(e){let t;se(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new pe(e.key,null):t=new pe(e,null),ot(this.items,t.key)||this.items.push(t)}get(e,t){const n=ot(this.items,e);return!t&&se(n)?Q(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=ot(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new pe(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:i}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let a of t)typeof i=="function"&&(a=i.call(t,a,a)),r.items.push(In(a,null,n));return r}}Mt.tag="tag:yaml.org,2002:set";const Rn={collection:"map",identify:s=>s instanceof Set,nodeClass:Mt,default:!1,tag:"tag:yaml.org,2002:set",createNode:(s,e,t)=>Mt.from(s,e,t),resolve(s,e){if(Vt(s)){if(s.hasAllNullValues(!0))return Object.assign(new Mt,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s}};function Dn(s,e){const t=s[0],n=t==="-"||t==="+"?s.substring(1):s,i=a=>e?BigInt(a):Number(a),r=n.replace(/_/g,"").split(":").reduce((a,o)=>a*i(60)+i(o),i(0));return t==="-"?i(-1)*r:r}function lr(s){let{value:e}=s,t=a=>a;if(typeof e=="bigint")t=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return Pe(s);let n="";e<0&&(n="-",e*=t(-1));const i=t(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),n+r.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const cr={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>Dn(s,t),stringify:lr},ur={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>Dn(s,!1),stringify:lr},Qs={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){const e=s.match(Qs.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,i,r,a,o]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,n-1,i,r||0,a||0,o||0,l);const f=e[8];if(f&&f!=="Z"){let u=Dn(f,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:s})=>s.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},ri=[qt,Kt,Ws,Js,ar,or,po,mo,go,yo,uo,fo,ho,Mn,Pn,jn,Rn,cr,ur,Qs],ai=new Map([["core",ao],["failsafe",[qt,Kt,Ws]],["json",co],["yaml11",ri],["yaml-1.1",ri]]),oi={binary:Mn,bool:xn,float:Qi,floatExp:Gi,floatNaN:Yi,floatTime:ur,int:tr,intHex:sr,intOct:er,intTime:cr,map:qt,null:Js,omap:Pn,pairs:jn,seq:Kt,set:Rn,timestamp:Qs},bo={"tag:yaml.org,2002:binary":Mn,"tag:yaml.org,2002:omap":Pn,"tag:yaml.org,2002:pairs":jn,"tag:yaml.org,2002:set":Rn,"tag:yaml.org,2002:timestamp":Qs};function on(s,e){let t=ai.get(e);if(!t)if(Array.isArray(s))t=[];else{const n=Array.from(ai.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(s))for(const n of s)t=t.concat(n);else typeof s=="function"&&(t=s(t.slice()));return t.map(n=>{if(typeof n!="string")return n;const i=oi[n];if(i)return i;const r=Object.keys(oi).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${r}`)})}const wo=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0;class Xs{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:i,schema:r,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(e)?on(e,"compat"):e?on(null,e):null,this.merge=!!n,this.name=typeof r=="string"&&r||"core",this.knownTags=i?bo:{},this.tags=on(t,this.name),this.toStringOptions=o??null,Object.defineProperty(this,Ge,{value:qt}),Object.defineProperty(this,Fe,{value:Ws}),Object.defineProperty(this,Dt,{value:Kt}),this.sortMapEntries=typeof a=="function"?a:a===!0?wo:null}clone(){const e=Object.create(Xs.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function _o(s,e){var l;const t=[];let n=e.directives===!0;if(e.directives!==!1&&s.directives){const c=s.directives.toString(s);c?(t.push(c),n=!0):s.directives.docStart&&(n=!0)}n&&t.push("---");const i=Fi(s,e),{commentString:r}=i.options;if(s.commentBefore){t.length!==1&&t.unshift("");const c=r(s.commentBefore);t.unshift(qe(c,""))}let a=!1,o=null;if(s.contents){if(ae(s.contents)){if(s.contents.spaceBefore&&n&&t.push(""),s.contents.commentBefore){const u=r(s.contents.commentBefore);t.push(qe(u,""))}i.forceBlockIndent=!!s.comment,o=s.contents.comment}const c=o?void 0:()=>a=!0;let f=Bt(s.contents,i,()=>o=null,c);o&&(f+=Ye(f,"",r(o))),(f[0]==="|"||f[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${f}`:t.push(f)}else t.push(Bt(s.contents,i));if((l=s.directives)!=null&&l.docEnd)if(s.comment){const c=r(s.comment);c.includes(`
`)?(t.push("..."),t.push(qe(c,""))):t.push(`... ${c}`)}else t.push("...");else{let c=s.comment;c&&a&&(c=c.replace(/^\n+/,"")),c&&((!a||o)&&t[t.length-1]!==""&&t.push(""),t.push(qe(r(c),"")))}return t.join(`
`)+`
`}class Ht{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,$e,{value:_n});let i=null;typeof t=="function"||Array.isArray(t)?i=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:a}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new ye({version:a}),this.setSchema(a,n),this.contents=e===void 0?null:this.createNode(e,i,n)}clone(){const e=Object.create(Ht.prototype,{[$e]:{value:_n}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ae(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){vt(this.contents)&&this.contents.add(e)}addIn(e,t){vt(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Ui(this);e.anchor=!t||n.has(t)?qi(t||"a",n):t}return new qs(e.anchor)}createNode(e,t,n){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){const m=w=>typeof w=="number"||w instanceof String||w instanceof Number,_=t.filter(m).map(String);_.length>0&&(t=t.concat(_)),i=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:a,flow:o,keepUndefined:l,onTagObj:c,tag:f}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:h}=za(this,a||"a"),b={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},p=ls(e,f,b);return o&&ie(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const i=this.createNode(e,null,n),r=this.createNode(t,null,n);return new pe(i,r)}delete(e){return vt(this.contents)?this.contents.delete(e):!1}deleteIn(e){return zt(e)?this.contents==null?!1:(this.contents=null,!0):vt(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return ie(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return zt(e)?!t&&Q(this.contents)?this.contents.value:this.contents:ie(this.contents)?this.contents.getIn(e,t):void 0}has(e){return ie(this.contents)?this.contents.has(e):!1}hasIn(e){return zt(e)?this.contents!==void 0:ie(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=js(this.schema,[e],t):vt(this.contents)&&this.contents.set(e,t)}setIn(e,t){zt(e)?this.contents=t:this.contents==null?this.contents=js(this.schema,Array.from(e),t):vt(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ye({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ye({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new Xs(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=Oe(this.contents,t??"",o);if(typeof r=="function")for(const{count:c,res:f}of o.anchors.values())r(f,c);return typeof a=="function"?At(a,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return _o(this,e)}}function vt(s){if(ie(s))return!0;throw new Error("Expected a YAML collection as document contents")}class Zn extends Error{constructor(e,t,n,i){super(),this.name=e,this.code=n,this.message=i,this.pos=t}}class lt extends Zn{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class fr extends Zn{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Bs=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(o=>e.linePos(o));const{line:n,col:i}=t.linePos[0];t.message+=` at line ${n}, column ${i}`;let r=i-1,a=s.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&a.length>80){const o=Math.min(r-39,a.length-79);a="…"+a.substring(o),r-=o-1}if(a.length>80&&(a=a.substring(0,79)+"…"),n>1&&/^ *$/.test(a.substring(0,r))){let o=s.substring(e.lineStarts[n-2],e.lineStarts[n-1]);o.length>80&&(o=o.substring(0,79)+`…
`),a=o+a}if(/[^ ]/.test(a)){let o=1;const l=t.linePos[1];l&&l.line===n&&l.col>i&&(o=Math.max(1,Math.min(l.col-i,80-r)));const c=" ".repeat(r)+"^".repeat(o);t.message+=`:

${a}
${c}
`}};function Rt(s,{flow:e,indicator:t,next:n,offset:i,onError:r,startOnNewline:a}){let o=!1,l=a,c=a,f="",u="",d=!1,h=!1,b=!1,p=null,m=null,_=null,w=null,v=null;for(const g of s)switch(b&&(g.type!=="space"&&g.type!=="newline"&&g.type!=="comma"&&r(g.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),g.type){case"space":!e&&l&&t!=="doc-start"&&g.source[0]==="	"&&r(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||r(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const M=g.source.substring(1)||" ";f?f+=u+M:f=M,u="",l=!1;break}case"newline":l?f?f+=g.source:o=!0:u+=g.source,l=!0,d=!0,(p||m)&&(h=!0),c=!0;break;case"anchor":p&&r(g,"MULTIPLE_ANCHORS","A node can have at most one anchor"),g.source.endsWith(":")&&r(g.offset+g.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=g,v===null&&(v=g.offset),l=!1,c=!1,b=!0;break;case"tag":{m&&r(g,"MULTIPLE_TAGS","A node can have at most one tag"),m=g,v===null&&(v=g.offset),l=!1,c=!1,b=!0;break}case t:(p||m)&&r(g,"BAD_PROP_ORDER",`Anchors and tags must be after the ${g.source} indicator`),w&&r(g,"UNEXPECTED_TOKEN",`Unexpected ${g.source} in ${e??"collection"}`),w=g,l=!1,c=!1;break;case"comma":if(e){_&&r(g,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=g,l=!1,c=!1;break}default:r(g,"UNEXPECTED_TOKEN",`Unexpected ${g.type} token`),l=!1,c=!1}const k=s[s.length-1],N=k?k.offset+k.source.length:i;return b&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:_,found:w,spaceBefore:o,comment:f,hasNewline:d,hasNewlineAfterProp:h,anchor:p,tag:m,end:N,start:v??N}}function cs(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(const e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of s.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(cs(e.key)||cs(e.value))return!0}return!1;default:return!0}}function Nn(s,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===s&&(n.source==="]"||n.source==="}")&&cs(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function dr(s,e,t){const{uniqueKeys:n}=s.options;if(n===!1)return!1;const i=typeof n=="function"?n:(r,a)=>r===a||Q(r)&&Q(a)&&r.value===a.value&&!(r.value==="<<"&&s.schema.merge);return e.some(r=>i(r.key,t))}const li="All mapping items must start at the same column";function vo({composeNode:s,composeEmptyNode:e},t,n,i,r){var f;const a=(r==null?void 0:r.nodeClass)??ve,o=new a(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(const u of n.items){const{start:d,key:h,sep:b,value:p}=u,m=Rt(d,{indicator:"explicit-key-ind",next:h??(b==null?void 0:b[0]),offset:l,onError:i,startOnNewline:!0}),_=!m.found;if(_){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==n.indent&&i(l,"BAD_INDENT",li)),!m.anchor&&!m.tag&&!b){c=m.end,m.comment&&(o.comment?o.comment+=`
`+m.comment:o.comment=m.comment);continue}(m.hasNewlineAfterProp||cs(h))&&i(h??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=m.found)==null?void 0:f.indent)!==n.indent&&i(l,"BAD_INDENT",li);const w=m.end,v=h?s(t,h,m,i):e(t,w,d,null,m,i);t.schema.compat&&Nn(n.indent,h,i),dr(t,o.items,v)&&i(w,"DUPLICATE_KEY","Map keys must be unique");const k=Rt(b??[],{indicator:"map-value-ind",next:p,offset:v.range[2],onError:i,startOnNewline:!h||h.type==="block-scalar"});if(l=k.end,k.found){_&&((p==null?void 0:p.type)==="block-map"&&!k.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&m.start<k.found.offset-1024&&i(v.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const N=p?s(t,p,k,i):e(t,l,b,null,k,i);t.schema.compat&&Nn(n.indent,p,i),l=N.range[2];const g=new pe(v,N);t.options.keepSourceTokens&&(g.srcToken=u),o.items.push(g)}else{_&&i(v.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(v.comment?v.comment+=`
`+k.comment:v.comment=k.comment);const N=new pe(v);t.options.keepSourceTokens&&(N.srcToken=u),o.items.push(N)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),o.range=[n.offset,l,c??l],o}function ko({composeNode:s,composeEmptyNode:e},t,n,i,r){const a=(r==null?void 0:r.nodeClass)??st,o=new a(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(const{start:f,value:u}of n.items){const d=Rt(f,{indicator:"seq-item-ind",next:u,offset:l,onError:i,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||u)u&&u.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(o.comment=d.comment);continue}const h=u?s(t,u,d,i):e(t,d.end,f,null,d,i);t.schema.compat&&Nn(n.indent,u,i),l=h.range[2],o.items.push(h)}return o.range=[n.offset,l,c??l],o}function ps(s,e,t,n){let i="";if(s){let r=!1,a="";for(const o of s){const{source:l,type:c}=o;switch(c){case"space":r=!0;break;case"comment":{t&&!r&&n(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";i?i+=a+f:i=f,a="";break}case"newline":i&&(a+=l),r=!0;break;default:n(o,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const ln="Block collections are not allowed within flow collections",cn=s=>s&&(s.type==="block-map"||s.type==="block-seq");function So({composeNode:s,composeEmptyNode:e},t,n,i,r){const a=n.start.source==="{",o=a?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(a?ve:st),c=new l(t.schema);c.flow=!0;const f=t.atRoot;f&&(t.atRoot=!1);let u=n.offset+n.start.source.length;for(let m=0;m<n.items.length;++m){const _=n.items[m],{start:w,key:v,sep:k,value:N}=_,g=Rt(w,{flow:o,indicator:"explicit-key-ind",next:v??(k==null?void 0:k[0]),offset:u,onError:i,startOnNewline:!1});if(!g.found){if(!g.anchor&&!g.tag&&!k&&!N){m===0&&g.comma?i(g.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):m<n.items.length-1&&i(g.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),g.comment&&(c.comment?c.comment+=`
`+g.comment:c.comment=g.comment),u=g.end;continue}!a&&t.options.strict&&cs(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)g.comma&&i(g.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(g.comma||i(g.start,"MISSING_CHAR",`Missing , between ${o} items`),g.comment){let M="";e:for(const V of w)switch(V.type){case"comma":case"space":break;case"comment":M=V.source.substring(1);break e;default:break e}if(M){let V=c.items[c.items.length-1];se(V)&&(V=V.value??V.key),V.comment?V.comment+=`
`+M:V.comment=M,g.comment=g.comment.substring(M.length+1)}}if(!a&&!k&&!g.found){const M=N?s(t,N,g,i):e(t,g.end,k,null,g,i);c.items.push(M),u=M.range[2],cn(N)&&i(M.range,"BLOCK_IN_FLOW",ln)}else{const M=g.end,V=v?s(t,v,g,i):e(t,M,w,null,g,i);cn(v)&&i(V.range,"BLOCK_IN_FLOW",ln);const Y=Rt(k??[],{flow:o,indicator:"map-value-ind",next:N,offset:V.range[2],onError:i,startOnNewline:!1});if(Y.found){if(!a&&!g.found&&t.options.strict){if(k)for(const Z of k){if(Z===Y.found)break;if(Z.type==="newline"){i(Z,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}g.start<Y.found.offset-1024&&i(Y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&N.source&&N.source[0]===":"?i(N,"MISSING_CHAR",`Missing space after : in ${o}`):i(Y.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const X=N?s(t,N,Y,i):Y.found?e(t,Y.end,k,null,Y,i):null;X?cn(N)&&i(X.range,"BLOCK_IN_FLOW",ln):Y.comment&&(V.comment?V.comment+=`
`+Y.comment:V.comment=Y.comment);const fe=new pe(V,X);if(t.options.keepSourceTokens&&(fe.srcToken=_),a){const Z=c;dr(t,Z.items,V)&&i(M,"DUPLICATE_KEY","Map keys must be unique"),Z.items.push(fe)}else{const Z=new ve(t.schema);Z.flow=!0,Z.items.push(fe),c.items.push(Z)}u=X?X.range[2]:Y.end}}const d=a?"}":"]",[h,...b]=n.end;let p=u;if(h&&h.source===d)p=h.offset+h.source.length;else{const m=o[0].toUpperCase()+o.substring(1),_=f?`${m} must end with a ${d}`:`${m} in block collection must be sufficiently indented and end with a ${d}`;i(u,f?"MISSING_CHAR":"BAD_INDENT",_),h&&h.source.length!==1&&b.unshift(h)}if(b.length>0){const m=ps(b,p,t.options.strict,i);m.comment&&(c.comment?c.comment+=`
`+m.comment:c.comment=m.comment),c.range=[n.offset,p,m.offset]}else c.range=[n.offset,p,p];return c}function un(s,e,t,n,i,r){const a=t.type==="block-map"?vo(s,e,t,n,r):t.type==="block-seq"?ko(s,e,t,n,r):So(s,e,t,n,r),o=a.constructor;return i==="!"||i===o.tagName?(a.tag=o.tagName,a):(i&&(a.tag=i),a)}function No(s,e,t,n,i){var u;const r=n?e.directives.tagName(n.source,d=>i(n,"TAG_RESOLVE_FAILED",d)):null,a=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!n||!r||r==="!"||r===ve.tagName&&a==="map"||r===st.tagName&&a==="seq"||!a)return un(s,e,t,i,r);let o=e.schema.tags.find(d=>d.tag===r&&d.collection===a);if(!o){const d=e.schema.knownTags[r];if(d&&d.collection===a)e.schema.tags.push(Object.assign({},d,{default:!1})),o=d;else return d!=null&&d.collection?i(n,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection}`,!0):i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),un(s,e,t,i,r)}const l=un(s,e,t,i,r,o),c=((u=o.resolve)==null?void 0:u.call(o,l,d=>i(n,"TAG_RESOLVE_FAILED",d),e.options))??l,f=ae(c)?c:new P(c);return f.range=l.range,f.tag=r,o!=null&&o.format&&(f.format=o.format),f}function hr(s,e,t){const n=s.offset,i=To(s,e,t);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const r=i.mode===">"?P.BLOCK_FOLDED:P.BLOCK_LITERAL,a=s.source?Oo(s.source):[];let o=a.length;for(let p=a.length-1;p>=0;--p){const m=a[p][1];if(m===""||m==="\r")o=p;else break}if(o===0){const p=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let m=n+i.length;return s.source&&(m+=s.source.length),{value:p,type:r,comment:i.comment,range:[n,m,m]}}let l=s.indent+i.indent,c=s.offset+i.length,f=0;for(let p=0;p<o;++p){const[m,_]=a[p];if(_===""||_==="\r")i.indent===0&&m.length>l&&(l=m.length);else{m.length<l&&t(c+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=m.length),f=p;break}c+=m.length+_.length+1}for(let p=a.length-1;p>=o;--p)a[p][0].length>l&&(o=p+1);let u="",d="",h=!1;for(let p=0;p<f;++p)u+=a[p][0].slice(l)+`
`;for(let p=f;p<o;++p){let[m,_]=a[p];c+=m.length+_.length+1;const w=_[_.length-1]==="\r";if(w&&(_=_.slice(0,-1)),_&&m.length<l){const k=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;t(c-_.length-(w?2:1),"BAD_INDENT",k),m=""}r===P.BLOCK_LITERAL?(u+=d+m.slice(l)+_,d=`
`):m.length>l||_[0]==="	"?(d===" "?d=`
`:!h&&d===`
`&&(d=`

`),u+=d+m.slice(l)+_,d=`
`,h=!0):_===""?d===`
`?u+=`
`:d=`
`:(u+=d+_,d=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let p=o;p<a.length;++p)u+=`
`+a[p][0].slice(l);u[u.length-1]!==`
`&&(u+=`
`);break;default:u+=`
`}const b=n+i.length+s.source.length;return{value:u,type:r,comment:i.comment,range:[n,b,b]}}function To({offset:s,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let a=0,o="",l=-1;for(let d=1;d<i.length;++d){const h=i[d];if(!o&&(h==="-"||h==="+"))o=h;else{const b=Number(h);!a&&b?a=b:l===-1&&(l=s+d)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,f="",u=i.length;for(let d=1;d<e.length;++d){const h=e[d];switch(h.type){case"space":c=!0;case"newline":u+=h.source.length;break;case"comment":t&&!c&&n(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=h.source.length,f=h.source.substring(1);break;case"error":n(h,"UNEXPECTED_TOKEN",h.message),u+=h.source.length;break;default:{const b=`Unexpected token in block scalar header: ${h.type}`;n(h,"UNEXPECTED_TOKEN",b);const p=h.source;p&&typeof p=="string"&&(u+=p.length)}}}return{mode:r,indent:a,chomp:o,comment:f,length:u}}function Oo(s){const e=s.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),r=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let a=1;a<e.length;a+=2)r.push([e[a],e[a+1]]);return r}function pr(s,e,t){const{offset:n,type:i,source:r,end:a}=s;let o,l;const c=(d,h,b)=>t(n+d,h,b);switch(i){case"scalar":o=P.PLAIN,l=$o(r,c);break;case"single-quoted-scalar":o=P.QUOTE_SINGLE,l=Eo(r,c);break;case"double-quoted-scalar":o=P.QUOTE_DOUBLE,l=Ao(r,c);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const f=n+r.length,u=ps(a,f,e,t);return{value:l,type:o,comment:u.comment,range:[n,f,u.offset]}}function $o(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),mr(s)}function Eo(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),mr(s.slice(1,-1)).replace(/''/g,"'")}function mr(s){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(s);if(!n)return s;let i=n[1],r=" ",a=e.lastIndex;for(t.lastIndex=a;n=t.exec(s);)n[1]===""?r===`
`?i+=r:r=`
`:(i+=r+n[1],r=" "),a=t.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,n=o.exec(s),i+r+((n==null?void 0:n[1])??"")}function Ao(s,e){let t="";for(let n=1;n<s.length-1;++n){const i=s[n];if(!(i==="\r"&&s[n+1]===`
`))if(i===`
`){const{fold:r,offset:a}=Co(s,n);t+=r,n=a}else if(i==="\\"){let r=s[++n];const a=Io[r];if(a)t+=a;else if(r===`
`)for(r=s[n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="\r"&&s[n+1]===`
`)for(r=s[++n+1];r===" "||r==="	";)r=s[++n+1];else if(r==="x"||r==="u"||r==="U"){const o={x:2,u:4,U:8}[r];t+=xo(s,n+1,o,e),n+=o}else{const o=s.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),t+=o}}else if(i===" "||i==="	"){const r=n;let a=s[n+1];for(;a===" "||a==="	";)a=s[++n+1];a!==`
`&&!(a==="\r"&&s[n+2]===`
`)&&(t+=n>r?s.slice(r,n+1):i)}else t+=i}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function Co(s,e){let t="",n=s[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&s[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=s[e+1];return t||(t=" "),{fold:t,offset:e}}const Io={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function xo(s,e,t,n){const i=s.substr(e,t),a=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){const o=s.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(a)}function gr(s,e,t,n){const{value:i,type:r,comment:a,range:o}=e.type==="block-scalar"?hr(e,s.options.strict,n):pr(e,s.options.strict,n),l=t?s.directives.tagName(t.source,u=>n(t,"TAG_RESOLVE_FAILED",u)):null,c=t&&l?Lo(s.schema,i,l,t,n):e.type==="scalar"?Mo(s,i,e,n):s.schema[Fe];let f;try{const u=c.resolve(i,d=>n(t??e,"TAG_RESOLVE_FAILED",d),s.options);f=Q(u)?u:new P(u)}catch(u){const d=u instanceof Error?u.message:String(u);n(t??e,"TAG_RESOLVE_FAILED",d),f=new P(i)}return f.range=o,f.source=i,r&&(f.type=r),l&&(f.tag=l),c.format&&(f.format=c.format),a&&(f.comment=a),f}function Lo(s,e,t,n,i){var o;if(t==="!")return s[Fe];const r=[];for(const l of s.tags)if(!l.collection&&l.tag===t)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((o=l.test)!=null&&o.test(e))return l;const a=s.knownTags[t];return a&&!a.collection?(s.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[Fe])}function Mo({directives:s,schema:e},t,n,i){const r=e.tags.find(a=>{var o;return a.default&&((o=a.test)==null?void 0:o.test(t))})||e[Fe];if(e.compat){const a=e.compat.find(o=>{var l;return o.default&&((l=o.test)==null?void 0:l.test(t))})??e[Fe];if(r.tag!==a.tag){const o=s.tagString(r.tag),l=s.tagString(a.tag),c=`Value may be parsed as either ${o} or ${l}`;i(n,"TAG_RESOLVE_FAILED",c,!0)}}return r}function jo(s,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":s-=i.source.length;continue}for(i=e[++n];(i==null?void 0:i.type)==="space";)s+=i.source.length,i=e[++n];break}}return s}const Po={composeNode:yr,composeEmptyNode:Vn};function yr(s,e,t,n){const{spaceBefore:i,comment:r,anchor:a,tag:o}=t;let l,c=!0;switch(e.type){case"alias":l=Bo(s,e,n),(a||o)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=gr(s,e,o,n),a&&(l.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=No(Po,s,e,o,n),a&&(l.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",f),l=Vn(s,e.offset,void 0,null,t,n),c=!1}}return a&&l.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?l.comment=r:l.commentBefore=r),s.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Vn(s,e,t,n,{spaceBefore:i,comment:r,anchor:a,tag:o,end:l},c){const f={type:"scalar",offset:jo(e,t,n),indent:-1,source:""},u=gr(s,f,o,c);return a&&(u.anchor=a.source.substring(1),u.anchor===""&&c(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),r&&(u.comment=r,u.range[2]=l),u}function Bo({options:s},{offset:e,source:t,end:n},i){const r=new qs(t.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+t.length,o=ps(n,a,s.strict,i);return r.range=[e,a,o.offset],o.comment&&(r.comment=o.comment),r}function Ro(s,e,{offset:t,start:n,value:i,end:r},a){const o=Object.assign({_directives:e},s),l=new Ht(void 0,o),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Rt(n,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:t,onError:a,startOnNewline:!0});f.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&a(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?yr(c,i,f,a):Vn(c,f.end,n,null,f,a);const u=l.contents.range[2],d=ps(r,u,!1,a);return d.comment&&(l.comment=d.comment),l.range=[t,u,d.offset],l}function Ft(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];const{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function ci(s){var i;let e="",t=!1,n=!1;for(let r=0;r<s.length;++r){const a=s[r];switch(a[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(a.substring(1)||" "),t=!0,n=!1;break;case"%":((i=s[r+1])==null?void 0:i[0])!=="#"&&(r+=1),t=!1;break;default:t||(n=!0),t=!1}}return{comment:e,afterEmptyLine:n}}class Un{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,i,r)=>{const a=Ft(t);r?this.warnings.push(new fr(a,n,i)):this.errors.push(new lt(a,n,i))},this.directives=new ye({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:i}=ci(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.docStart||!r)e.commentBefore=n;else if(ie(r)&&!r.flow&&r.items.length>0){let a=r.items[0];se(a)&&(a=a.key);const o=a.commentBefore;a.commentBefore=o?`${n}
${o}`:n}else{const a=r.commentBefore;r.commentBefore=a?`${n}
${a}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:ci(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const i of e)yield*this.next(i);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,i)=>{const r=Ft(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=Ro(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new lt(Ft(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new lt(Ft(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=ps(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new lt(Ft(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),i=new Ht(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,t,t],this.decorate(i,!1),yield i}}}function Do(s,e=!0,t){if(s){const n=(i,r,a)=>{const o=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(t)t(o,r,a);else throw new lt([o,o+1],r,a)};switch(s.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return pr(s,e,n);case"block-scalar":return hr(s,e,n)}}return null}function Zo(s,e){const{implicitKey:t=!1,indent:n,inFlow:i=!1,offset:r=-1,type:a="PLAIN"}=e,o=ds({type:a,value:s},{implicitKey:t,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(o[0]){case"|":case">":{const c=o.indexOf(`
`),f=o.substring(0,c),u=o.substring(c+1)+`
`,d=[{type:"block-scalar-header",offset:r,indent:n,source:f}];return br(d,l)||d.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:r,indent:n,props:d,source:u}}case'"':return{type:"double-quoted-scalar",offset:r,indent:n,source:o,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:n,source:o,end:l};default:return{type:"scalar",offset:r,indent:n,source:o,end:l}}}function Vo(s,e,t={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:r=!1,type:a}=t,o="indent"in s?s.indent:null;if(n&&typeof o=="number"&&(o+=2),!a)switch(s.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const c=s.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const l=ds({type:a,value:e},{implicitKey:i||o===null,indent:o!==null&&o>0?" ".repeat(o):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Uo(s,l);break;case'"':fn(s,l,"double-quoted-scalar");break;case"'":fn(s,l,"single-quoted-scalar");break;default:fn(s,l,"scalar")}}function Uo(s,e){const t=e.indexOf(`
`),n=e.substring(0,t),i=e.substring(t+1)+`
`;if(s.type==="block-scalar"){const r=s.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=n,s.source=i}else{const{offset:r}=s,a="indent"in s?s.indent:-1,o=[{type:"block-scalar-header",offset:r,indent:a,source:n}];br(o,"end"in s?s.end:void 0)||o.push({type:"newline",offset:-1,indent:a,source:`
`});for(const l of Object.keys(s))l!=="type"&&l!=="offset"&&delete s[l];Object.assign(s,{type:"block-scalar",indent:a,props:o,source:i})}}function br(s,e){if(e)for(const t of e)switch(t.type){case"space":case"comment":s.push(t);break;case"newline":return s.push(t),!0}return!1}function fn(s,e,t){switch(s.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":s.type=t,s.source=e;break;case"block-scalar":{const n=s.props.slice(1);let i=e.length;s.props[0].type==="block-scalar-header"&&(i-=s.props[0].source.length);for(const r of n)r.offset+=i;delete s.props,Object.assign(s,{type:t,source:e,end:n});break}case"block-map":case"block-seq":{const i={type:"newline",offset:s.offset+e.length,indent:s.indent,source:`
`};delete s.items,Object.assign(s,{type:t,source:e,end:[i]});break}default:{const n="indent"in s?s.indent:-1,i="end"in s&&Array.isArray(s.end)?s.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(s))r!=="type"&&r!=="offset"&&delete s[r];Object.assign(s,{type:t,indent:n,source:e,end:i})}}}const qo=s=>"type"in s?Rs(s):Ns(s);function Rs(s){switch(s.type){case"block-scalar":{let e="";for(const t of s.props)e+=Rs(t);return e+s.source}case"block-map":case"block-seq":{let e="";for(const t of s.items)e+=Ns(t);return e}case"flow-collection":{let e=s.start.source;for(const t of s.items)e+=Ns(t);for(const t of s.end)e+=t.source;return e}case"document":{let e=Ns(s);if(s.end)for(const t of s.end)e+=t.source;return e}default:{let e=s.source;if("end"in s&&s.end)for(const t of s.end)e+=t.source;return e}}}function Ns({start:s,key:e,sep:t,value:n}){let i="";for(const r of s)i+=r.source;if(e&&(i+=Rs(e)),t)for(const r of t)i+=r.source;return n&&(i+=Rs(n)),i}const Tn=Symbol("break visit"),Ko=Symbol("skip children"),wr=Symbol("remove item");function mt(s,e){"type"in s&&s.type==="document"&&(s={start:s.start,value:s.value}),_r(Object.freeze([]),s,e)}mt.BREAK=Tn;mt.SKIP=Ko;mt.REMOVE=wr;mt.itemAtPath=(s,e)=>{let t=s;for(const[n,i]of e){const r=t==null?void 0:t[n];if(r&&"items"in r)t=r.items[i];else return}return t};mt.parentCollection=(s,e)=>{const t=mt.itemAtPath(s,e.slice(0,-1)),n=e[e.length-1][0],i=t==null?void 0:t[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function _r(s,e,t){let n=t(e,s);if(typeof n=="symbol")return n;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let a=0;a<r.items.length;++a){const o=_r(Object.freeze(s.concat([[i,a]])),r.items[a],t);if(typeof o=="number")a=o-1;else{if(o===Tn)return Tn;o===wr&&(r.items.splice(a,1),a-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,s))}}return typeof n=="function"?n(e,s):n}const en="\uFEFF",tn="",sn="",us="",Ho=s=>!!s&&"items"in s,Fo=s=>!!s&&(s.type==="scalar"||s.type==="single-quoted-scalar"||s.type==="double-quoted-scalar"||s.type==="block-scalar");function zo(s){switch(s){case en:return"<BOM>";case tn:return"<DOC>";case sn:return"<FLOW_END>";case us:return"<SCALAR>";default:return JSON.stringify(s)}}function vr(s){switch(s){case en:return"byte-order-mark";case tn:return"doc-mode";case sn:return"flow-error-end";case us:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Wo=Object.freeze(Object.defineProperty({__proto__:null,BOM:en,DOCUMENT:tn,FLOW_END:sn,SCALAR:us,createScalarToken:Zo,isCollection:Ho,isScalar:Fo,prettyToken:zo,resolveAsScalar:Do,setScalarValue:Vo,stringify:qo,tokenType:vr,visit:mt},Symbol.toStringTag,{value:"Module"}));function Se(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const ui="0123456789ABCDEFabcdef".split(""),Jo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),dn=",[]{}".split(""),Yo=` ,[]{}
\r	`.split(""),hn=s=>!s||Yo.includes(s);class kr{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Se(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===en&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const n=e.indexOf("#");if(n!==-1){const r=e[n-1];(r===" "||r==="	")&&(t=n-1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield tn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&Se(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&Se(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Se(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Se(t)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(hn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&Se(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield sn,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(hn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||Se(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=n.indexOf(`
`,r)}i!==-1&&(t=i-(n[i-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>Se(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":t+=1;break;case`
`:e=i,t=0;break;case"\r":{const r=this.buffer[i+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,r=this.buffer[i];r==="\r"&&(r=this.buffer[--i]);const a=i;for(;r===" "||r==="	";)r=this.buffer[--i];if(r===`
`&&i>=this.pos&&i+1+t>a)e=i;else break}while(!0);return yield us,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const r=this.buffer[n+1];if(Se(r)||e&&r===",")break;t=n}else if(Se(i)){let r=this.buffer[n+1];if(i==="\r"&&(r===`
`?(n+=1,i=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&dn.includes(r))break;if(i===`
`){const a=this.continueScalar(n+1);if(a===-1)break;n=Math.max(n,a-2)}}else{if(e&&dn.includes(i))break;t=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield us,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(hn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(Se(t)||e&&dn.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!Se(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Jo.includes(t))t=this.buffer[++e];else if(t==="%"&&ui.includes(this.buffer[e+1])&&ui.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Sr{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const i=this.lineStarts[t-1];return{line:t,col:e-i+1}}}}function Ae(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function fi(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Nr(s){switch(s==null?void 0:s.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function bs(s){switch(s.type){case"document":return s.start;case"block-map":{const e=s.items[s.items.length-1];return e.sep??e.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function kt(s){var t;if(s.length===0)return[];let e=s.length;e:for(;--e>=0;)switch(s[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=s[++e])==null?void 0:t.type)==="space";);return s.splice(e,s.length)}function di(s){if(s.start.type==="flow-seq-start")for(const e of s.items)e.sep&&!e.value&&!Ae(e.start,"explicit-key-ind")&&!Ae(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Nr(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class qn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new kr,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=vr(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&di(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=t;else{Object.assign(i,{key:t,sep:[]}),this.onKeyLine=!Ae(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:t}):i.value=t;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&fi(i.start)===-1&&(t.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{fi(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=bs(this.peek(2)),n=kt(t);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const i="end"in t.value?t.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const i=e.items[e.items.length-2],r=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(i&&t.sep&&!t.value){const a=[];for(let o=0;o<t.sep.length;++o){const l=t.sep[o];switch(l.type){case"newline":a.push(o);break;case"space":break;case"comment":l.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(r=t.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!Ae(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):i||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Ae(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ae(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Nr(t.key)&&!Ae(t.sep,"newline")){const a=kt(t.start),o=t.key,l=t.sep;l.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:o,sep:l}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(Ae(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const a=kt(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):Ae(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||t.value?(e.items.push({start:r,key:a,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(a):(Object.assign(t,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){i&&a.type!=="block-seq"&&Ae(t.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const i="end"in t.value?t.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const i=e.items[e.items.length-2],r=(n=i==null?void 0:i.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||Ae(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=bs(n),r=kt(i);di(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=bs(e),n=kt(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;const t=bs(e),n=kt(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Tr(s){const e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new Sr||null,prettyErrors:e}}function Go(s,e={}){const{lineCounter:t,prettyErrors:n}=Tr(e),i=new qn(t==null?void 0:t.addNewLine),r=new Un(e),a=Array.from(r.compose(i.parse(s)));if(n&&t)for(const o of a)o.errors.forEach(Bs(s,t)),o.warnings.forEach(Bs(s,t));return a.length>0?a:Object.assign([],{empty:!0},r.streamInfo())}function Or(s,e={}){const{lineCounter:t,prettyErrors:n}=Tr(e),i=new qn(t==null?void 0:t.addNewLine),r=new Un(e);let a=null;for(const o of r.compose(i.parse(s),!0,s.length))if(!a)a=o;else if(a.options.logLevel!=="silent"){a.errors.push(new lt(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(a.errors.forEach(Bs(s,t)),a.warnings.forEach(Bs(s,t))),a}function Qo(s,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const i=Or(s,t);if(!i)return null;if(i.warnings.forEach(r=>zi(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},t))}function Xo(s,e,t){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){const i=Math.round(t);t=i<1?void 0:i>8?{indent:8}:{indent:i}}if(s===void 0){const{keepUndefined:i}=t??e??{};if(!i)return}return new Ht(s,n,t).toString(t)}const $r=Object.freeze(Object.defineProperty({__proto__:null,Alias:qs,CST:Wo,Composer:Un,Document:Ht,Lexer:kr,LineCounter:Sr,Pair:pe,Parser:qn,Scalar:P,Schema:Xs,YAMLError:Zn,YAMLMap:ve,YAMLParseError:lt,YAMLSeq:st,YAMLWarning:fr,isAlias:bt,isCollection:ie,isDocument:Zt,isMap:Vt,isNode:ae,isPair:se,isScalar:Q,isSeq:Ut,parse:Qo,parseAllDocuments:Go,parseDocument:Or,stringify:Xo,visit:tt,visitAsync:Us},Symbol.toStringTag,{value:"Module"}));function el(s){let e,t;return{c(){e=Jn("svg"),t=Jn("path"),E(t,"stroke","currentColor"),E(t,"stroke-linecap","round"),E(t,"stroke-linejoin","round"),E(t,"stroke-width","2"),E(t,"d","M12 2h4a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h4m6 0a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1m6 0v3H6V2M5 5h8m-8 5h8m-8 4h8"),E(e,"class","w-4 h-4"),E(e,"aria-hidden","true"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"fill","none"),E(e,"viewBox","0 0 18 20")},m(n,i){K(n,e,i),y(e,t)},p:be,i:be,o:be,d(n){n&&U(e)}}}class Er extends yt{constructor(e){super(),gt(this,e,null,el,nt,{})}}function hi(s){let e;return{c(){e=T("div"),e.innerHTML='<div role="alert" class="alert alert-error"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Fehler: unerwartetes/ungültiges Format. Bitte stell sicher, dass es sich um die korrekte und vollständige Datei handelt.</span></div>',E(e,"class","mt-8")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function pi(s){let e,t,n,i,r,a,o,l,c,f,u,d,h,b;return o=new Er({}),{c(){e=T("div"),t=T("h2"),t.textContent="Zigbee2MQTT:",n=x(),i=T("div"),r=T("button"),a=re("Kopieren "),ue(o.$$.fragment),l=x(),c=T("pre"),f=T("code"),u=re(s[1]),E(t,"class","text-2xl font-bold pb-4"),E(r,"class","btn btn-outline btn-sm btn-secondary"),E(c,"class","max-h-96 overflow-auto select-all"),E(i,"class","w-full prose"),E(e,"class","mt-8")},m(p,m){K(p,e,m),y(e,t),y(e,n),y(e,i),y(i,r),y(r,a),oe(o,r,null),y(i,l),y(i,c),y(c,f),y(f,u),d=!0,h||(b=De(r,"click",s[3]),h=!0)},p(p,m){(!d||m&2)&&Ue(u,p[1])},i(p){d||(q(o.$$.fragment,p),d=!0)},o(p){G(o.$$.fragment,p),d=!1},d(p){p&&U(e),le(o),h=!1,b()}}}function tl(s){let e,t,n,i,r,a,o,l,c,f,u,d,h,b,p,m=s[2]&&hi(),_=s[1]&&pi(s);return{c(){e=T("h1"),e.textContent="ZHA Backup zu Zigbee2MQTT Config",t=x(),n=T("h2"),n.textContent="ZHA-Backup",i=x(),r=T("input"),a=x(),o=T("label"),o.innerHTML='hochladen <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 19"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15h.01M4 12H2a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-3m-5.5 0V1.07M5.5 5l4-4 4 4"></path></svg>',l=re(`
oder
`),c=T("button"),c.innerHTML='aus Zwischenablage übernehmen <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5h2m1.5 0H6V2m0 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1h4a1 1 0 0 1 1 1M6 2H2a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h4m7-13v4H9m10-3v11a.969.969 0 0 1-.933 1H9.933A.97.97 0 0 1 9 18V9l3-3h6.067A.969.969 0 0 1 19 7Z"></path></svg>',f=x(),m&&m.c(),u=x(),_&&_.c(),d=Oi(),E(e,"class","text-5xl font-bold pb-8"),E(n,"class","text-2xl font-bold pb-4"),E(r,"id","file"),E(r,"class","hidden"),E(r,"type","file"),E(r,"accept","application/json"),E(o,"for","file"),E(o,"class","btn btn-outline btn-secondary"),E(c,"class","btn btn-outline btn-secondary")},m(w,v){K(w,e,v),K(w,t,v),K(w,n,v),K(w,i,v),K(w,r,v),K(w,a,v),K(w,o,v),K(w,l,v),K(w,c,v),K(w,f,v),m&&m.m(w,v),K(w,u,v),_&&_.m(w,v),K(w,d,v),h=!0,b||(p=[De(r,"change",s[5]),De(c,"click",s[4])],b=!0)},p(w,[v]){w[2]?m||(m=hi(),m.c(),m.m(u.parentNode,u)):m&&(m.d(1),m=null),w[1]?_?(_.p(w,v),v&2&&q(_,1)):(_=pi(w),_.c(),q(_,1),_.m(d.parentNode,d)):_&&(Ds(),G(_,1,1,()=>{_=null}),Zs())},i(w){h||(q(_),h=!0)},o(w){G(_),h=!1},d(w){w&&(U(e),U(t),U(n),U(i),U(r),U(a),U(o),U(l),U(c),U(f),U(u),U(d)),m&&m.d(w),_&&_.d(w),b=!1,ze(p)}}}function sl(s,e,t){let n,i="",r=!1,a=localStorage.getItem("backup.json");a&&(c(a),a=null);function o(){navigator.clipboard.writeText(i)}function l(){navigator.clipboard.readText().then(u=>c(u))}function c(u){t(1,i="");let d;try{let h=qa.parse(JSON.parse(u));localStorage.setItem("backup.json",u),t(2,r=!1),d={advanced:{channel:h.network_info.channel,network_key:h.network_info.network_key.key.split(":").map(b=>parseInt(b,16)),pan_id:parseInt(h.network_info.pan_id,16),ext_pan_id:h.network_info.extended_pan_id.split(":").map(b=>parseInt(b,16))}},t(1,i=$r.stringify(d))}catch{t(2,r=!0)}}function f(){n=this.files,t(0,n)}return s.$$.update=()=>{s.$$.dirty&1&&n&&n[0]&&n[0].text().then(u=>c(u))},[n,i,r,o,l,f]}class nl extends yt{constructor(e){super(),gt(this,e,sl,tl,nt,{})}}const il=te.object({ieee:te.string(),nwk:te.number(),nwk_hex:te.string().optional(),user_given_name:te.string(),manufacturer:te.string(),model:te.string(),name:te.string(),device_type:te.string(),last_seen:te.string(),area_id:te.string().nullable(),entities:te.array(te.object({entity_id:te.string(),name:te.string()}))}),rl=te.object({devices:te.array(il)}),St=[];function al(s,e){return{subscribe:Ce(s,e).subscribe}}function Ce(s,e=be){let t;const n=new Set;function i(o){if(nt(s,o)&&(s=o,t)){const l=!St.length;for(const c of n)c[1](),St.push(c,s);if(l){for(let c=0;c<St.length;c+=2)St[c][0](St[c+1]);St.length=0}}}function r(o){i(o(s))}function a(o,l=be){const c=[o,l];return n.add(c),n.size===1&&(t=e(i,r)||be),o(s),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:r,subscribe:a}}function Ie(s,e,t){const n=!Array.isArray(s),i=n?[s]:s;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return al(t,(a,o)=>{let l=!1;const c=[];let f=0,u=be;const d=()=>{if(f)return;u();const b=e(n?c[0]:c,a,o);r?a(b):u=On(b)?b:be},h=i.map((b,p)=>$n(b,m=>{c[p]=m,f&=~(1<<p),l&&d()},()=>{f|=1<<p}));return l=!0,d(),function(){ze(h),u(),l=!1}})}const Ar=s=>s==null||s==="",ol=s=>!Ar(s),ct=s=>{const e=s.toString();if(typeof s=="string")return{callback:t=>t[s],identifier:e,key:s};if(typeof s=="function")return{callback:s,identifier:e,key:void 0};throw new Error(`Invalid field argument: ${String(s)}`)},ft={isLike:(s,e)=>Ne(s).indexOf(Ne(e))>-1,isNotLike:(s,e)=>Ne(s).indexOf(Ne(e))===-1,startsWith:(s,e)=>Ne(s).startsWith(Ne(e)),endsWith:(s,e)=>Ne(s).endsWith(Ne(e)),isEqualTo:(s,e)=>Ne(s)===Ne(e),isNotEqualTo:(s,e)=>Ne(s)!==Ne(e),isGreaterThan:(s,e)=>it(s)?!1:s>e,isGreaterThanOrEqualTo:(s,e)=>it(s)?!1:s>=e,isLessThan:(s,e)=>it(s)?!1:s<e,isLessThanOrEqualTo:(s,e)=>it(s)?!1:s<=e,isBetween:(s,e)=>{if(it(s))return!1;const[t,n]=e;return s>=t&&s<=n},isStrictlyBetween:(s,e)=>{if(it(s))return!1;const[t,n]=e;return s>t&&s<n},isTrue:(s,e)=>s===!0,isFalse:(s,e)=>s===!1,isNull:(s,e)=>s==null,isNotNull:(s,e)=>s!=null,whereIn:(s,e=[])=>{if(it(s)||e.length===0)return!1;for(const{value:t,comparator:n}of e)if(n(s,t))return!0;return!1},contains:(s,e)=>ft.isLike(s,e)};function Ne(s=null){return String(s).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function it(s){if(s==null)return!0}class ll{constructor(){A(this,"events",{change:[],clearFilters:[],clearSearch:[]});A(this,"triggerChange",Ce(0))}add(e,t){this.events[e].push(t)}trigger(e){for(const t of this.events[e])t();e==="change"&&this.triggerChange.update(t=>t+1)}}class cl{constructor(e,t){A(this,"event");A(this,"rowsPerPage");A(this,"pageNumber");A(this,"search");A(this,"filters");A(this,"filterCount");A(this,"rawRows");A(this,"filteredRows");A(this,"pagedRows");A(this,"rowCount");A(this,"pages");A(this,"pagesWithEllipsis");A(this,"pageCount");A(this,"sort");A(this,"selected");A(this,"selectScope");A(this,"isAllSelected");this.event=new ll,this.rowsPerPage=Ce(t.rowsPerPage),this.pageNumber=Ce(1),this.search=Ce({}),this.filters=Ce([]),this.filterCount=this.createFilterCount(),this.rawRows=Ce(e),this.filteredRows=this.createFilteredRows(),this.pagedRows=this.createPagedRows(),this.rowCount=this.createRowCount(),this.pages=this.createPages(),this.pagesWithEllipsis=this.createPagesWithEllipsis(),this.pageCount=this.createPageCount(),this.sort=Ce({}),this.selected=Ce([]),this.selectScope=Ce("all"),this.isAllSelected=this.createIsAllSelected()}createFilterCount(){return Ie(this.filters,e=>e.length)}createFilteredRows(){return Ie([this.rawRows,this.search,this.filters],([e,t,n])=>(t.value&&(e=e.filter(i=>(t.scope??Object.keys(i)).map(o=>{const{callback:l}=ct(o);return l}).some(o=>this.match(o(i),t.value))),this.pageNumber.set(1),this.selected.set([]),this.event.trigger("change")),n.length>0&&(n.forEach(i=>e=e.filter(r=>{const a=i.callback(r);return this.match(a,i.value,i.comparator)})),this.pageNumber.set(1),this.selected.set([]),this.event.trigger("change")),e))}match(e,t,n=null){if(Ar(t))return!0;if(!e&&n)return n(e,t);if(e){if(typeof e=="object")return Object.keys(e).some(i=>this.match(e[i],t,n))}else return ft.isLike(e,t);return n?n(e,t):ft.isLike(e,t)}createPagedRows(){return Ie([this.filteredRows,this.rowsPerPage,this.pageNumber],([e,t,n])=>t?e.slice((n-1)*t,n*t):e)}createRowCount(){return Ie([this.filteredRows,this.pageNumber,this.rowsPerPage],([e,t,n])=>{const i=e.length;return n?{total:i,start:t*n-n+1,end:Math.min(t*n,e.length)}:{total:i,start:1,end:i}})}createPages(){return Ie([this.rowsPerPage,this.filteredRows],([e,t])=>e?Array.from(Array(Math.ceil(t.length/e))).map((i,r)=>r+1):[1])}createPagesWithEllipsis(){return Ie([this.pages,this.pageNumber],([e,t])=>{if(e.length<=7)return e;const n=null,i=1,r=e.length;return t<=4?[...e.slice(0,5),n,r]:t<e.length-3?[i,n,...e.slice(t-2,t+1),n,r]:[i,n,...e.slice(e.length-5,e.length)]})}createPageCount(){return Ie(this.pages,e=>e.length)}createIsAllSelected(){return Ie([this.selected,this.pagedRows,this.filteredRows,this.selectScope],([e,t,n,i])=>{const r=i==="currentPage"?t.length:n.length;return r===e.length&&r!==0})}}class ul{constructor(e){A(this,"rawRows");A(this,"event");A(this,"sort");A(this,"backup");this.rawRows=e.rawRows,this.event=e.event,this.sort=e.sort,this.backup=[]}set(e=null){if(!e)return;const t=Te(this.sort),{identifier:n}=ct(e);t.identifier!==n&&this.sort.update(i=>i.direction=null),t.direction===null||t.direction==="desc"?this.asc(e):t.direction==="asc"&&this.desc(e)}asc(e,t="asc"){if(!e)return;const{identifier:n,callback:i,key:r}=ct(e);this.sort.set({identifier:n,callback:i,direction:t,key:r}),this.rawRows.update(a=>(a.sort((o,l)=>{const[c,f]=[i(o),i(l)];return c===f?0:c===null?1:f===null?-1:typeof c=="boolean"?c===!1?1:-1:typeof c=="string"?c.localeCompare(f):typeof c=="number"?c-f:typeof c=="object"?JSON.stringify(c).localeCompare(JSON.stringify(f)):String(c).localeCompare(String(f))}),a)),this.log({identifier:n,callback:i,direction:t}),this.event.trigger("change")}desc(e,t="desc"){if(!e)return;const{identifier:n,callback:i,key:r}=ct(e);this.sort.set({identifier:n,callback:i,direction:t,key:r}),this.rawRows.update(a=>(a.sort((o,l)=>{const[c,f]=[i(o),i(l)];return c===f?0:c===null?1:f===null?-1:typeof f=="boolean"?f===!1?1:-1:typeof f=="string"?f.localeCompare(c):typeof f=="number"?f-c:typeof f=="object"?JSON.stringify(f).localeCompare(JSON.stringify(c)):String(f).localeCompare(String(c))}),a)),this.log({identifier:n,callback:i,direction:t}),this.event.trigger("change")}apply(e=null){if(e)switch(e.direction){case"asc":return this.asc(e.orderBy);case"desc":return this.desc(e.orderBy);default:return this.set(e.orderBy)}else this.restore()}clear(){this.backup=[],this.sort.set({})}define(e,t="asc"){if(!e)return;const{identifier:n,callback:i,key:r}=ct(e);this.sort.set({identifier:n,callback:i,direction:t,key:r})}restore(){for(const e of this.backup){const{key:t,callback:n,direction:i}=e,r=t??n;this[i](r)}}log(e){if(this.backup=this.backup.filter(t=>t.identifier!==e.identifier),this.backup.length>=3){const[t,n,i]=this.backup;this.backup=[n,i,e]}else this.backup=[...this.backup,e]}}class fl{constructor(e){A(this,"filteredRows");A(this,"pagedRows");A(this,"selected");A(this,"scope");A(this,"isAllSelected");A(this,"event");this.filteredRows=e.filteredRows,this.pagedRows=e.pagedRows,this.selected=e.selected,this.scope=e.selectScope,this.isAllSelected=e.isAllSelected,this.event=e.event}set(e){const t=Te(this.selected);t.includes(e)?this.selected.set(t.filter(n=>n!==e)):this.selected.set([e,...t])}all(e=null){if(Te(this.isAllSelected))return this.clear();const n=Te(this.scope),i=Te(n==="currentPage"?this.pagedRows:this.filteredRows);n==="currentPage"&&this.event.add("change",()=>this.clear()),e?this.selected.set(i.map(r=>r[e])):this.selected.set(i)}clear(){this.selected.set([])}}class dl{constructor(e){A(this,"pageNumber");A(this,"rowCount");A(this,"rowsPerPage");A(this,"event");this.pageNumber=e.pageNumber,this.rowCount=e.rowCount,this.rowsPerPage=e.rowsPerPage,this.event=e.event}goto(e){this.pageNumber.update(t=>{const n=Te(this.rowsPerPage);if(n){const i=Te(this.rowCount).total;e>=1&&e<=Math.ceil(i/n)&&(t=e,this.event.trigger("change"))}return t})}previous(){const e=Te(this.pageNumber)-1;this.goto(e)}next(){const e=Te(this.pageNumber)+1;this.goto(e)}}class hl{constructor(e){A(this,"search");A(this,"event");this.search=e.search,this.event=e.event}set(e,t=null){this.search.update(n=>(n={value:e??"",scope:t??null},n))}clear(){this.search.set({value:null,scope:null}),this.event.trigger("change"),this.event.trigger("clearSearch")}}class pl{constructor(e){A(this,"filters");A(this,"event");A(this,"collection");this.filters=e.filters,this.event=e.event}set(e,t,n=null){const{callback:i,identifier:r,key:a}=ct(t),o={value:e,identifier:r,callback:i,comparator:n,key:a};this.filters.update(l=>(l=l.filter(c=>c.identifier!==r),ol(e)&&l.push(o),l))}clear(){this.filters.set([]),this.event.trigger("change"),this.event.trigger("clearFilters")}get(){return this.collection?this.collection:(this.collection=this.createCollection(),this.collection)}createCollection(){return Ie(this.filters,e=>e.map(({value:t,callback:n,key:i,comparator:r})=>({value:t,filterBy:i??n,check:r?r.name:"isLike"})))}}class ml{constructor(e,t,n){A(this,"filterHandler");A(this,"filterBy");A(this,"comparator");A(this,"callback");this.filterHandler=e,this.filterBy=t,this.comparator=n??ft.isLike,this.callback=()=>null}set(e,t){t&&(this.comparator=t),this.filterHandler.set(e,this.filterBy,this.comparator)}clear(){this.callback(),this.filterHandler.set(void 0,this.filterBy)}on(e,t){this.callback=t}}class gl{constructor(e,t){A(this,"filterHandler");A(this,"criteria");A(this,"filterBy");A(this,"selected");this.filterHandler=e,this.filterBy=t,this.criteria=[],this.selected=Ce([])}set(e,t=ft.isLike){if(this.criteria.find(n=>n.value===e)?this.criteria=this.criteria.filter(n=>n.value!==e):this.criteria=[{value:e,comparator:t},...this.criteria],this.criteria.length===0)return this.clear();this.filterHandler.set(this.criteria,this.filterBy,ft.whereIn),this.selected.set(this.criteria.map(n=>n.value))}getSelected(){return this.selected}clear(){this.criteria=[],this.selected.set([]),this.filterHandler.set(void 0,this.filterBy,ft.whereIn)}}class yl{constructor(e,t,n){A(this,"rawRows");A(this,"filteredRows");A(this,"callback");A(this,"precision");this.rawRows=e.rawRows,this.filteredRows=e.filteredRows,this.callback=ct(t).callback,this.precision=n.precision}distinct(e=null){const n=Te(this.rawRows).map(a=>this.callback(a)),r=(e?e(n):n).reduce((a,o)=>(a[o]=(a[o]??0)+1,a),{});return Object.entries(r).map(([a,o])=>({value:a,count:o}))}avg(e=null){return Ie(this.filteredRows,t=>{if(t.length===0)return 0;const n=t.map(r=>this.callback(r)).filter(Boolean),i=e?e(n):n;return this.round(i.reduce((r,a)=>r+a,0)/i.length)})}sum(e=null){return Ie(this.filteredRows,t=>{const n=t.map(r=>this.callback(r)),i=e?e(n):n;return this.round(i.reduce((r,a)=>r+a,0))})}bounds(e=null){const n=Te(this.rawRows).map(r=>this.callback(r)),i=e?e(n):n;return[Math.min(...i.filter(Boolean)),Math.max(...i.filter(Boolean))]}setPrecision(e){this.precision=e}round(e){if(this.precision===0)return Math.round(e);const t=Math.pow(10,this.precision);return Math.round((e+Number.EPSILON)*t)/t}}class bl{constructor(e=[],t={rowsPerPage:null}){A(this,"context");A(this,"sortHandler");A(this,"selectHandler");A(this,"pageHandler");A(this,"searchHandler");A(this,"filterHandler");A(this,"i18n");this.i18n=this.translate(t.i18n),this.context=new cl(e,t),this.sortHandler=new ul(this.context),this.selectHandler=new fl(this.context),this.pageHandler=new dl(this.context),this.searchHandler=new hl(this.context),this.filterHandler=new pl(this.context)}setRows(e){this.context.rawRows.set(e),this.context.event.trigger("change"),this.applySort()}getRows(){return this.context.pagedRows}getAllRows(){return this.context.filteredRows}getRowCount(){return this.context.rowCount}getRowsPerPage(){return this.context.rowsPerPage}getPages(e={ellipsis:!1}){return e.ellipsis?this.context.pagesWithEllipsis:this.context.pages}getPageCount(){return this.context.pageCount}getPageNumber(){return this.context.pageNumber}setPage(e){switch(e){case"previous":return this.pageHandler.previous();case"next":return this.pageHandler.next();default:return this.pageHandler.goto(e)}}search(e,t=null){this.searchHandler.set(e,t)}clearSearch(){this.searchHandler.clear()}sort(e){this.setPage(1),this.sortHandler.set(e)}sortAsc(e){this.setPage(1),this.sortHandler.asc(e)}sortDesc(e){this.setPage(1),this.sortHandler.desc(e)}getSort(){return this.context.sort}applySort(e=null){this.sortHandler.apply(e)}defineSort(e,t){this.sortHandler.define(e,t)}clearSort(){this.sortHandler.clear()}filter(e,t,n=null){this.filterHandler.set(e,t,n)}getFilters(){return this.filterHandler.get()}createFilter(e,t){return new ml(this.filterHandler,e,t)}createAdvancedFilter(e){return new gl(this.filterHandler,e)}getFilterCount(){return this.context.filterCount}clearFilters(){this.filterHandler.clear()}select(e){this.selectHandler.set(e)}getSelected(){return this.context.selected}selectAll(e={}){this.context.selectScope.set(e.scope==="currentPage"?"currentPage":"all"),this.selectHandler.all(e.selectBy??null)}isAllSelected(){return this.context.isAllSelected}on(e,t){this.context.event.add(e,t)}createCalculation(e,t=null){return new yl(this.context,e,{precision:(t==null?void 0:t.precision)??2})}translate(e){return{search:"Search...",show:"Show",entries:"entries",filter:"Filter",rowCount:"Showing {start} to {end} of {total} entries",noRows:"No entries found",previous:"Previous",next:"Next",...e}}update(e){console.log("%c%s","color:#e65100;background:#fff3e0;font-size:12px;border-radius:4px;padding:4px;text-align:center;","DataHandler.update(data) method is deprecated. Please use DataHandler.setRows(data) instead"),this.context.rawRows.set(e)}applySorting(e=null){this.applySort(e)}getSorted(){return this.getSort()}getTriggerChange(){return this.context.event.triggerChange}}function wl(s){let e,t,n,i,r,a,o,l;const c=s[6].default,f=Mr(c,s,s[5],null);return{c(){e=T("th"),t=T("div"),n=T("strong"),f&&f.c(),i=x(),r=T("span"),We(r,"asc",s[2].direction==="asc"),We(r,"desc",s[2].direction==="desc"),E(t,"class","flex"),We(e,"text-primary",s[2].identifier===s[3]),We(e,"cursor-pointer",s[1])},m(u,d){K(u,e,d),y(e,t),y(t,n),f&&f.m(n,null),y(t,i),y(t,r),a=!0,o||(l=De(e,"click",s[7]),o=!0)},p(u,[d]){f&&f.p&&(!a||d&32)&&Pr(f,c,u,u[5],a?jr(c,u[5],d,null):Br(u[5]),null),(!a||d&4)&&We(r,"asc",u[2].direction==="asc"),(!a||d&4)&&We(r,"desc",u[2].direction==="desc"),(!a||d&12)&&We(e,"text-primary",u[2].identifier===u[3]),(!a||d&2)&&We(e,"cursor-pointer",u[1])},i(u){a||(q(f,u),a=!0)},o(u){G(f,u),a=!1},d(u){u&&U(e),f&&f.d(u),o=!1,l()}}}function _l(s,e,t){let n,{$$slots:i={},$$scope:r}=e,{handler:a}=e,{orderBy:o=""}=e;const l=o==null?void 0:o.toString(),c=a.getSort();Si(s,c,u=>t(2,n=u));const f=()=>o&&a.sort(o);return s.$$set=u=>{"handler"in u&&t(0,a=u.handler),"orderBy"in u&&t(1,o=u.orderBy),"$$scope"in u&&t(5,r=u.$$scope)},[a,o,n,l,c,r,i,f]}class Nt extends yt{constructor(e){super(),gt(this,e,_l,wl,nt,{handler:0,orderBy:1})}}function vl(s){let e,t,n,i;return{c(){e=T("th"),t=T("input"),E(t,"type","text"),E(t,"placeholder","Filter"),E(t,"class","input input-bordered input-xs")},m(r,a){K(r,e,a),y(e,t),Yn(t,s[2]),n||(i=[De(t,"input",s[3]),De(t,"input",s[4])],n=!0)},p(r,[a]){a&4&&t.value!==r[2]&&Yn(t,r[2])},i:be,o:be,d(r){r&&U(e),n=!1,ze(i)}}}function kl(s,e,t){let{handler:n}=e,{filterBy:i=""}=e,r="";function a(){r=this.value,t(2,r)}const o=()=>n.filter(r,i);return s.$$set=l=>{"handler"in l&&t(0,n=l.handler),"filterBy"in l&&t(1,i=l.filterBy)},[n,i,r,a,o]}class rt extends yt{constructor(e){super(),gt(this,e,kl,vl,nt,{handler:0,filterBy:1})}}function mi(s,e,t){const n=s.slice();return n[5]=e[t],n}function gi(s,e,t){const n=s.slice();return n[8]=e[t],n}function Sl(s){let e;return{c(){e=re("ieee")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function Nl(s){let e;return{c(){e=re("nwk")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function Tl(s){let e;return{c(){e=re("Lokaler Name")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function Ol(s){let e;return{c(){e=re("Bereich")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function $l(s){let e;return{c(){e=re("Hersteller")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function El(s){let e;return{c(){e=re("Modell")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function yi(s){let e,t,n=s[8].entity_id.split(".",2)[0]+"",i,r,a,o=s[8].entity_id.split(".",2)[1]+"",l,c,f,u,d,h,b;u=new Er({});function p(){return s[4](s[8])}return{c(){e=T("li"),t=T("span"),i=re(n),r=re("."),a=T("span"),l=re(o),c=x(),f=T("button"),ue(u.$$.fragment),E(t,"class","text-secondary select-all"),E(a,"class","text-accent select-all"),E(f,"class","btn btn-circle btn-xs")},m(m,_){K(m,e,_),y(e,t),y(t,i),y(e,r),y(e,a),y(a,l),y(e,c),y(e,f),oe(u,f,null),d=!0,h||(b=De(f,"click",p),h=!0)},p(m,_){s=m,(!d||_&1)&&n!==(n=s[8].entity_id.split(".",2)[0]+"")&&Ue(i,n),(!d||_&1)&&o!==(o=s[8].entity_id.split(".",2)[1]+"")&&Ue(l,o)},i(m){d||(q(u.$$.fragment,m),d=!0)},o(m){G(u.$$.fragment,m),d=!1},d(m){m&&U(e),le(u),h=!1,b()}}}function bi(s){let e,t,n=s[5].ieee+"",i,r,a,o=s[5].nwk_hex+"",l,c,f,u=s[5].user_given_name+"",d,h,b,p=(s[5].area_id??"--")+"",m,_,w,v=s[5].manufacturer+"",k,N,g,M=s[5].model+"",V,Y,X,fe,Z,ce,de=Ts(s[5].entities),F=[];for(let D=0;D<de.length;D+=1)F[D]=yi(gi(s,de,D));const Ee=D=>G(F[D],1,1,()=>{F[D]=null});return{c(){e=T("tr"),t=T("td"),i=re(n),r=x(),a=T("td"),l=re(o),c=x(),f=T("td"),d=re(u),h=x(),b=T("td"),m=re(p),_=x(),w=T("td"),k=re(v),N=x(),g=T("td"),V=re(M),Y=x(),X=T("td"),fe=T("ul");for(let D=0;D<F.length;D+=1)F[D].c();Z=x()},m(D,z){K(D,e,z),y(e,t),y(t,i),y(e,r),y(e,a),y(a,l),y(e,c),y(e,f),y(f,d),y(e,h),y(e,b),y(b,m),y(e,_),y(e,w),y(w,k),y(e,N),y(e,g),y(g,V),y(e,Y),y(e,X),y(X,fe);for(let W=0;W<F.length;W+=1)F[W]&&F[W].m(fe,null);y(e,Z),ce=!0},p(D,z){if((!ce||z&1)&&n!==(n=D[5].ieee+"")&&Ue(i,n),(!ce||z&1)&&o!==(o=D[5].nwk_hex+"")&&Ue(l,o),(!ce||z&1)&&u!==(u=D[5].user_given_name+"")&&Ue(d,u),(!ce||z&1)&&p!==(p=(D[5].area_id??"--")+"")&&Ue(m,p),(!ce||z&1)&&v!==(v=D[5].manufacturer+"")&&Ue(k,v),(!ce||z&1)&&M!==(M=D[5].model+"")&&Ue(V,M),z&1){de=Ts(D[5].entities);let W;for(W=0;W<de.length;W+=1){const he=gi(D,de,W);F[W]?(F[W].p(he,z),q(F[W],1)):(F[W]=yi(he),F[W].c(),q(F[W],1),F[W].m(fe,null))}for(Ds(),W=de.length;W<F.length;W+=1)Ee(W);Zs()}},i(D){if(!ce){for(let z=0;z<de.length;z+=1)q(F[z]);ce=!0}},o(D){F=F.filter(Boolean);for(let z=0;z<F.length;z+=1)G(F[z]);ce=!1},d(D){D&&U(e),Ti(F,D)}}}function Al(s){let e,t,n,i,r,a,o,l,c,f,u,d,h,b,p,m,_,w,v,k,N,g,M,V,Y,X,fe,Z,ce,de,F,Ee,D,z,W;r=new Nt({props:{handler:s[1],orderBy:"ieee",$$slots:{default:[Sl]},$$scope:{ctx:s}}}),o=new Nt({props:{handler:s[1],orderBy:"nwk_hex",$$slots:{default:[Nl]},$$scope:{ctx:s}}}),c=new Nt({props:{handler:s[1],orderBy:"user_given_name",$$slots:{default:[Tl]},$$scope:{ctx:s}}}),u=new Nt({props:{handler:s[1],orderBy:"area_id",$$slots:{default:[Ol]},$$scope:{ctx:s}}}),h=new Nt({props:{handler:s[1],orderBy:"manufacturer",$$slots:{default:[$l]},$$scope:{ctx:s}}}),p=new Nt({props:{handler:s[1],orderBy:"model",$$slots:{default:[El]},$$scope:{ctx:s}}}),k=new rt({props:{handler:s[1],filterBy:"ieee"}}),g=new rt({props:{handler:s[1],filterBy:"nwk_hex"}}),V=new rt({props:{handler:s[1],filterBy:"user_given_name"}}),X=new rt({props:{handler:s[1],filterBy:"area_id"}}),Z=new rt({props:{handler:s[1],filterBy:"manufacturer"}}),de=new rt({props:{handler:s[1],filterBy:"model"}}),Ee=new rt({props:{handler:s[1],filterBy:"entities"}});let he=Ts(s[0]),ee=[];for(let C=0;C<he.length;C+=1)ee[C]=bi(mi(s,he,C));const wt=C=>G(ee[C],1,1,()=>{ee[C]=null});return{c(){e=T("div"),t=T("table"),n=T("thead"),i=T("tr"),ue(r.$$.fragment),a=x(),ue(o.$$.fragment),l=x(),ue(c.$$.fragment),f=x(),ue(u.$$.fragment),d=x(),ue(h.$$.fragment),b=x(),ue(p.$$.fragment),m=x(),_=T("th"),_.textContent="Entitäten",w=x(),v=T("tr"),ue(k.$$.fragment),N=x(),ue(g.$$.fragment),M=x(),ue(V.$$.fragment),Y=x(),ue(X.$$.fragment),fe=x(),ue(Z.$$.fragment),ce=x(),ue(de.$$.fragment),F=x(),ue(Ee.$$.fragment),D=x(),z=T("tbody");for(let C=0;C<ee.length;C+=1)ee[C].c();E(n,"class","sticky [inset-block-start:0] bg-neutral"),E(t,"class","table table-zebra border-separate border-spacing-0"),E(e,"class","overflow-x-auto max-h-[50vh]")},m(C,J){K(C,e,J),y(e,t),y(t,n),y(n,i),oe(r,i,null),y(i,a),oe(o,i,null),y(i,l),oe(c,i,null),y(i,f),oe(u,i,null),y(i,d),oe(h,i,null),y(i,b),oe(p,i,null),y(i,m),y(i,_),y(n,w),y(n,v),oe(k,v,null),y(v,N),oe(g,v,null),y(v,M),oe(V,v,null),y(v,Y),oe(X,v,null),y(v,fe),oe(Z,v,null),y(v,ce),oe(de,v,null),y(v,F),oe(Ee,v,null),y(t,D),y(t,z);for(let Be=0;Be<ee.length;Be+=1)ee[Be]&&ee[Be].m(z,null);W=!0},p(C,[J]){const Be={};J&2048&&(Be.$$scope={dirty:J,ctx:C}),r.$set(Be);const ke={};J&2048&&(ke.$$scope={dirty:J,ctx:C}),o.$set(ke);const ms={};J&2048&&(ms.$$scope={dirty:J,ctx:C}),c.$set(ms);const Kn={};J&2048&&(Kn.$$scope={dirty:J,ctx:C}),u.$set(Kn);const Hn={};J&2048&&(Hn.$$scope={dirty:J,ctx:C}),h.$set(Hn);const Fn={};if(J&2048&&(Fn.$$scope={dirty:J,ctx:C}),p.$set(Fn),J&1){he=Ts(C[0]);let ge;for(ge=0;ge<he.length;ge+=1){const zn=mi(C,he,ge);ee[ge]?(ee[ge].p(zn,J),q(ee[ge],1)):(ee[ge]=bi(zn),ee[ge].c(),q(ee[ge],1),ee[ge].m(z,null))}for(Ds(),ge=he.length;ge<ee.length;ge+=1)wt(ge);Zs()}},i(C){if(!W){q(r.$$.fragment,C),q(o.$$.fragment,C),q(c.$$.fragment,C),q(u.$$.fragment,C),q(h.$$.fragment,C),q(p.$$.fragment,C),q(k.$$.fragment,C),q(g.$$.fragment,C),q(V.$$.fragment,C),q(X.$$.fragment,C),q(Z.$$.fragment,C),q(de.$$.fragment,C),q(Ee.$$.fragment,C);for(let J=0;J<he.length;J+=1)q(ee[J]);W=!0}},o(C){G(r.$$.fragment,C),G(o.$$.fragment,C),G(c.$$.fragment,C),G(u.$$.fragment,C),G(h.$$.fragment,C),G(p.$$.fragment,C),G(k.$$.fragment,C),G(g.$$.fragment,C),G(V.$$.fragment,C),G(X.$$.fragment,C),G(Z.$$.fragment,C),G(de.$$.fragment,C),G(Ee.$$.fragment,C),ee=ee.filter(Boolean);for(let J=0;J<ee.length;J+=1)G(ee[J]);W=!1},d(C){C&&U(e),le(r),le(o),le(c),le(u),le(h),le(p),le(k),le(g),le(V),le(X),le(Z),le(de),le(Ee),Ti(ee,C)}}}function Cl(s){navigator.clipboard.writeText(s)}function Il(s,e,t){let n,{data:i}=e;const r=new bl(i,{}),a=r.getRows();Si(s,a,l=>t(0,n=l));const o=l=>Cl(l.entity_id.split(".",2)[1]);return s.$$set=l=>{"data"in l&&t(3,i=l.data)},[n,r,a,i,o]}class xl extends yt{constructor(e){super(),gt(this,e,Il,Al,nt,{data:3})}}function wi(s){let e;return{c(){e=T("div"),e.innerHTML='<div role="alert" class="alert alert-error"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Fehler: unerwartetes/ungültiges Format. Bitte stell sicher, dass es sich um die korrekte und vollständige Datei handelt.</span></div>',E(e,"class","mt-8")},m(t,n){K(t,e,n)},d(t){t&&U(e)}}}function _i(s){let e,t;return e=new xl({props:{data:s[0]}}),{c(){ue(e.$$.fragment)},m(n,i){oe(e,n,i),t=!0},p(n,i){const r={};i&1&&(r.data=n[0]),e.$set(r)},i(n){t||(q(e.$$.fragment,n),t=!0)},o(n){G(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Ll(s){let e,t,n,i,r,a,o,l,c,f,u,d,h,b,p,m,_,w,v,k=s[1]&&wi(),N=s[0]&&_i(s);return{c(){e=T("div"),t=T("ol"),n=T("li"),n.innerHTML='Installiere <a href="https://github.com/mdeweerd/zha-toolkit" target="_blank">ZHA-Toolkit</a>',i=x(),r=T("li"),r.innerHTML=`Ruf die Entwicklertools/Dienste Seite auf und wähle &quot;zha_toolkit:
            Get/Export Device Information&quot; - oder nimm die <a href="https://my.home-assistant.io/redirect/developer_call_service/?service=zha_toolkit.zha_devices">Abkürzung</a>`,a=x(),o=T("li"),o.textContent='Klick auf "Dienst aufrufen"',l=x(),c=T("li"),c.textContent='Scroll nach ganz unten und klick "In Zwischenablage kopieren"',f=x(),u=T("li"),d=re("Klick hier: "),h=T("button"),h.innerHTML='aus Zwischenablage übernehmen <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5h2m1.5 0H6V2m0 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1h4a1 1 0 0 1 1 1M6 2H2a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h4m7-13v4H9m10-3v11a.969.969 0 0 1-.933 1H9.933A.97.97 0 0 1 9 18V9l3-3h6.067A.969.969 0 0 1 19 7Z"></path></svg>',b=x(),k&&k.c(),p=x(),N&&N.c(),m=Oi(),E(h,"class","btn btn-outline btn-secondary"),E(e,"class","prose")},m(g,M){K(g,e,M),y(e,t),y(t,n),y(t,i),y(t,r),y(t,a),y(t,o),y(t,l),y(t,c),y(t,f),y(t,u),y(u,d),y(u,h),K(g,b,M),k&&k.m(g,M),K(g,p,M),N&&N.m(g,M),K(g,m,M),_=!0,w||(v=De(h,"click",s[2]),w=!0)},p(g,[M]){g[1]?k||(k=wi(),k.c(),k.m(p.parentNode,p)):k&&(k.d(1),k=null),g[0]?N?(N.p(g,M),M&1&&q(N,1)):(N=_i(g),N.c(),q(N,1),N.m(m.parentNode,m)):N&&(Ds(),G(N,1,1,()=>{N=null}),Zs())},i(g){_||(q(N),_=!0)},o(g){G(N),_=!1},d(g){g&&(U(e),U(b),U(p),U(m)),k&&k.d(g),N&&N.d(g),w=!1,v()}}}function Ml(s,e,t){let n,i=!1,r=localStorage.getItem("device-data.yml");r&&(o(r),r=null);function a(){navigator.clipboard.readText().then(l=>o(l))}function o(l){const c=$r.parse(l);t(1,i=!1);try{t(0,n=rl.parse(c).devices.map(f=>({...f,nwk_hex:`0x${f.nwk.toString(16).padStart(4,"0")}`,ieee:`0x${f.ieee.replace(/:/g,"")}`}))),localStorage.setItem("device-data.yml",l)}catch(f){console.error(f),t(1,i=!0)}}return[n,i,a]}class jl extends yt{constructor(e){super(),gt(this,e,Ml,Ll,nt,{})}}function Pl(s){let e,t,n,i,r,a,o,l,c,f,u,d,h,b,p,m,_,w,v,k,N,g,M,V,Y,X,fe,Z,ce,de,F,Ee,D,z,W,he,ee,wt,C,J,Be;return w=new nl({}),X=new jl({}),{c(){e=T("main"),t=T("div"),n=T("input"),i=x(),r=T("div"),r.textContent="Was, warum, wie?",a=x(),o=T("div"),l=T("div"),l.innerHTML=`<h2>ZHA zu Zigbee2MQTT Migrationshilfe</h2> <p>Diese Anwendung soll es dir erleichtern, von ZHA zu Zigbee2MQTT zu wechseln.</p> <p>Sie entstand auf Grundlage eines <a target="_blank" href="https://www.youtube.com/watch?v=B8bgC1CM8fY">YouTube Videos von simon42</a>, das das prinzielle Vorgehen gut beschreibt.</p> <p>In erster Linie wollte ich das Erstellen von zig Screenshots und die Suche nach dem richten Gerät anhand von Screenshots vermeiden, aber die Umwandung der Konfiguration aus dem Backup zur Config für Zigbee2MQTT ließ sich ohne viel Aufwand automatisieren.</p> <p>Ich übernehme keine Haftung, falls durch die Nutzung irgendwelche Nachteile enstehen.</p> <p>Um dieses Tool in vollem Umfang nutzen zu können, muss eine Custom Component namens zha_toolkit installiert werden. Natürlich ist es etwas ärgerlich, dieses Toolkit zu installieren, wenn man gerade von ZHA weg möchte. Es macht diesen Prozess in meinen Augen jedoch um ein vielfaches einfacher und schneller.</p> <p>Dateien und Daten, die du auf dieser Seite eingibst werden NICHT hochgeladen, sie werden nur innerhalb deines Browsers verarbeitet und gespeichert.
                    Wenn du Daten eingetragen hast und die Seite neu lädst, bleiben die Ergebnisse erhalten, dafür verwendet die Seite den lokalen Speicher deines Browsers.
                    Wenn du z.B. nicht an deinem eigenen Rechner sitzt und die Daten gerne löschen möchtest, kannst du das mit folgendem Button tun. Die aktuell dargestellten Daten werden dabei <strong>nicht</strong> zurückgesetzt. Wenn du die Seite danach aber neu lädst, werden sie nicht erneut dargestellt.</p>`,c=x(),f=T("button"),f.innerHTML='Lokale Daten zurücksetzen <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"></path></svg>',u=x(),d=T("div"),h=T("input"),b=x(),p=T("div"),p.textContent="Backup zu Zigbee2MQTT-Config",m=x(),_=T("div"),ue(w.$$.fragment),v=x(),k=T("div"),N=T("input"),g=x(),M=T("div"),M.textContent="Zigbee Geräte Übersicht",V=x(),Y=T("div"),ue(X.$$.fragment),fe=x(),Z=T("div"),ce=T("input"),de=x(),F=T("div"),F.textContent="Daten löschen",Ee=x(),D=T("div"),z=T("div"),z.innerHTML="<p>Solltest du deine Daten aus diesem Browser löschen wollen, kannst du folgenden Button verwenden:</p>",W=x(),he=T("button"),he.innerHTML='Lokale Daten zurücksetzen <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"></path></svg>',ee=x(),wt=T("div"),wt.innerHTML="<p>Achtung: Die Daten die oben aktuell dargestellt werden, sind davon nicht betroffen. Aber wenn du die Seite verlässt und sie erneut aufrufst, werden die Daten nicht erneut dargestellt.</p>",E(n,"type","radio"),E(n,"name","accordion"),n.checked="checked",E(r,"class","collapse-title text-xl font-medium bg-base-300"),E(l,"class","prose"),E(f,"class","btn btn-secondary btn-outline my-8"),E(o,"class","collapse-content"),E(t,"class","collapse collapse-arrow bg-base-200 border-b-secondary border-b"),E(h,"type","radio"),E(h,"name","accordion"),E(p,"class","collapse-title text-xl font-medium bg-base-300"),E(_,"class","collapse-content"),E(d,"class","collapse collapse-arrow bg-base-200 border-b-secondary border-b"),E(N,"type","radio"),E(N,"name","accordion"),E(M,"class","collapse-title text-xl font-medium bg-base-300"),E(Y,"class","collapse-content"),E(k,"class","collapse collapse-arrow bg-base-200 border-b-secondary border-b"),E(ce,"type","radio"),E(ce,"name","accordion"),E(F,"class","collapse-title text-xl font-medium bg-base-300"),E(z,"class","prose"),E(he,"class","btn btn-secondary btn-outline my-8"),E(wt,"class","prose"),E(D,"class","collapse-content"),E(Z,"class","collapse collapse-arrow bg-base-200 border-b-secondary border-b"),E(e,"class","mx-auto px-4 pt-8")},m(ke,ms){K(ke,e,ms),y(e,t),y(t,n),y(t,i),y(t,r),y(t,a),y(t,o),y(o,l),y(o,c),y(o,f),y(e,u),y(e,d),y(d,h),y(d,b),y(d,p),y(d,m),y(d,_),oe(w,_,null),y(e,v),y(e,k),y(k,N),y(k,g),y(k,M),y(k,V),y(k,Y),oe(X,Y,null),y(e,fe),y(e,Z),y(Z,ce),y(Z,de),y(Z,F),y(Z,Ee),y(Z,D),y(D,z),y(D,W),y(D,he),y(D,ee),y(D,wt),C=!0,J||(Be=[De(f,"click",vi),De(he,"click",vi)],J=!0)},p:be,i(ke){C||(q(w.$$.fragment,ke),q(X.$$.fragment,ke),C=!0)},o(ke){G(w.$$.fragment,ke),G(X.$$.fragment,ke),C=!1},d(ke){ke&&U(e),le(w),le(X),J=!1,ze(Be)}}}function vi(){localStorage.clear()}class Bl extends yt{constructor(e){super(),gt(this,e,null,Pl,nt,{})}}new Bl({target:document.getElementById("app")});
